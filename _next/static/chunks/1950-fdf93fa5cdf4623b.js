(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1950],{15180:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var r=a(50513),o=a.n(r),n=a(3197),i=a(84363),c=a(97849),s=a(14232),l=a(60640),g=a(48011),d=a(18493),u=a(7467),p=a(34368),m=a(22092),h=a(86537),v=a(76628);let y={"error.profile.createaccount.invaliduserpassword.ACCOUNT1002":"error.profile.createaccount.invaliduserpassword.ACCOUNT1002"},f=e=>{var t;let{signInType:a}=e,r=(0,d.Y)(),f=(0,v.b0)(y),{isMobileApp:I}=(0,u.A1)().state,{userName:P,loginFlow:T}=(0,s.useContext)(l.qE),M=(null==P?void 0:P.includes("@"))?"Email":"Username",{pageName:w,siteSection:C,pageType:S,pageURL:N}=null!=(t=null===o()||void 0===o()?void 0:o().utag_data)?t:{pageName:"",siteSection:"",pageType:"",pageURL:""},_=(0,g.d4)(e=>{let{loginConfirmation:t}=e;return t.state});return{trackLoginSuccess:()=>{let e=(0,h.sq)(["loginInteractionMethod"]).get("loginInteractionMethod");(0,n.g)({customLinkName:"Login:".concat("Password"===a?"Password":"OTP"),loginInteractionMethod:null!=e?e:"Header",eventType:"successfulLogin",loginMethod:"Password"==a?M:"".concat(a," OTP"),pageName:w,siteSection:C,pageURL:N,loginFlow:T,pageType:S})},trackCreateAccountSuccess:e=>{let t=(0,h.sq)(["loginInteractionMethod"]).get("loginInteractionMethod"),o=(0,p.P)(r,(null==_?void 0:_.isRegisterFlow)||!1,I,e);(0,n.g)({createAccount:o,customLinkName:(0,m.V)(e),loginInteractionMethod:null!=t?t:"Header",eventType:"successfulLogin",loginMethod:"Password"==a?M:"".concat(a," OTP"),pageName:w,siteSection:C,pageURL:N,pageType:S,loginFlow:T||"successfulMergeAccounts"!==o?T:"Standalone rewards"})},trackLoginFailure:e=>{let t=(0,h.sq)(["loginInteractionMethod"]).get("loginInteractionMethod"),r=f[(0,i.k)(e)||""];(0,n.g)({customLinkName:"Sign In Failure ".concat(a),errorCode:(0,c.E)(e),loginInteractionMethod:t,errorMsg:r,errorMsgType:"Sign In Failure",eventType:"signInFailure",loginFlow:T,loginMethod:"Password"==a?M:"".concat(a," OTP"),pageName:w,siteSection:C,pageType:S,pageURL:N})},trackSendOtpCode:e=>{let t=(0,h.sq)(["loginInteractionMethod"]).get("loginInteractionMethod");(0,n.g)({eventType:"oneTimeCodeAttempt",loginMethod:"".concat(e," OTP"),loginFlow:T,loginInteractionMethod:t,pageName:null!=w?w:"signIn",siteSection:null!=C?C:"signIn",pageType:S,pageURL:N})},trackResendOtpCode:e=>{let t=(0,h.sq)(["loginInteractionMethod"]).get("loginInteractionMethod");(0,n.g)({eventType:"resendOneTimeCode",loginFlow:T,loginMethod:"".concat(e," OTP"),loginInteractionMethod:t,pageName:w,pageType:S,siteSection:C})},trackForgotPasswordView:()=>{let e=(0,h.sq)(["loginInteractionMethod"]).get("loginInteractionMethod");(0,n.g)({customLinkName:"Forgot Password View",loginInteractionMethod:e,eventType:"forgotPassword",loginMethod:M,loginFlow:T,pageName:w,siteSection:C,pageType:S,pageURL:N})},trackCompletedAutoCreatedAccount:()=>{let e=(0,h.sq)(["loginInteractionMethod"]).get("loginInteractionMethod");(0,n.g)({createAccount:"successfulMergeAccounts",customLinkName:"Link Account:OTP",eventType:"successfulLogin",loginInteractionMethod:e,loginMethod:M,pageName:w,pageType:S,pageURL:N,siteSection:C})}}}},22092:(e,t,a)=>{"use strict";a.d(t,{V:()=>r});let r=e=>{if("string"==typeof e)return"createAccountLogin".concat("true"===e?" | persistentLoginTrue":" | persistentLoginFalse")}},29060:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(37876),o=a(58103),n=a.n(o),i=a(12883),c=a.n(i),s=a(52054),l=a.n(s),g=a(50200);let d=e=>{let{alertBlockClassName:t="",message:a,errorKey:o,subMessage:i="",error:s,resetPasswordFlag:d=!1,type:u="alerttype",margin:p=!1,flex:m=!1,objectContain:h=!1}=e;return s?(a&&"string"==typeof a&&(0,g.D)({errormsg:a,errorid:o}),(0,r.jsx)("div",{className:l().alertBlock,role:"alert",children:(0,r.jsxs)("div",{className:"".concat(l().errorPart," ").concat(p?l().removeMargin:""," ").concat(String(t),"\n          ").concat(l()["".concat(String(u),"Margin")]),children:[(0,r.jsx)("span",{className:l()[u]}),(0,r.jsx)("span",{className:l().messageSpace,children:a})]})})):(0,r.jsx)("div",{className:l().alertBlock,role:"alert",children:d?(0,r.jsxs)("div",{"data-testid":"success-part",className:n()(c()["az-caption"],l().resetSuccessPart,String(t)),children:[(0,r.jsx)("img",{src:"/images/itemSuccess-mobile.png",alt:"Success icon"}),(0,r.jsxs)("span",{className:l().spanMessage,children:[a,"."]}),(0,r.jsx)("span",{children:i})]}):(0,r.jsxs)("div",{"data-testid":"success-part",className:n()("".concat(l().successPart," ").concat(String(t)),{[l().flexContainer]:m}),children:[(0,r.jsx)("img",{src:"/images/itemSuccess-mobile.png",alt:"Success icon",className:n()({[l().objectContain]:h})}),(0,r.jsx)("span",{children:a}),(0,r.jsx)("span",{children:i})]})})}},32959:e=>{e.exports={googleRecaptchaContainer:"az_vlb",googleRecaptchaContainerV2:"az_wlb"}},34368:(e,t,a)=>{"use strict";a.d(t,{P:()=>o});var r=a(12541);let o=(e,t,a,o)=>e!==r.Ns.mx&&t&&!a?"successfulMergeAccounts":"string"==typeof o?"createAccountLogin".concat("true"===o?" | persistentLoginTrue":" | persistentLoginFalse"):void 0},35002:(e,t,a)=>{"use strict";a.d(t,{R:()=>n});var r=a(33507),o=a(48864);let n=e=>{let{certonaType:t,productData:a,skuIds:n,vehicleID:i,Category1:c,subTotal:s,transactionId:l,userId:g,parttype:d,isRecItemAddedToCart:u=!1}=e;switch(t){case o.Q.pdp:return{pagetype:o.Q.partsProductPage,itemid:n,vehicleid:null!=i?i:"",Category1:null!=c?c:"",parttype:d};case o.Q.pencilpdp:return{pagetype:o.Q.pencilpdp,itemid:n,vehicleid:null!=i?i:"",Category1:null!=c?c:"",parttype:d};case o.Q.vehicleDetails:return{pagetype:o.Q.vehicleDetails,vehicleid:null!=i?i:"",deviceType:(0,r.Z)(),recommendations:!0,isRecItemAddedToCart:u};case o.Q.accessoriesProductPage:return{pagetype:o.Q.accessoriesProductPage,itemid:n,vehicleid:i||"",Category1:c||"",recommendations:!0,parttype:d,deviceType:(0,r.Z)()};case o.Q.homePage:return{pagetype:o.Q.homePage,vehicleid:i};case o.Q.purchaseConfirmationPage:{let e=(null==a?void 0:a.map(e=>e.itemQuantity))||[],t=(null==a?void 0:a.map(e=>e.productInfo.skuId).join(";"))||"",r=e.map((e,t)=>null==a?void 0:a[t].lineItemPriceInfo.retailPrice.toString()).join(";"),n=e.join(";");return{pagetype:o.Q.purchaseConfirmationPage,recommendations:!0,itemid:t,qty:n,price:r,total:s,transactionid:l,customerid:g}}case o.Q.orderHistoryPage:return{pagetype:o.Q.orderHistoryPage};case o.Q.searchResultPage:return{pagetype:o.Q.searchResultPage,recommendations:!1};case o.Q.accountPage:return{pagetype:o.Q.accountPage,recommendations:!1,customerid:g};case o.Q.partsCategoryPage:case o.Q.partsSubCatPage:case o.Q.accessoriesCategoryPage:case o.Q.accessoriesSubCatPage:case o.Q.parentCategoryPage:return{pagetype:t,vehicleid:i,Category1:c};case o.Q.partsLandingEvent:case o.Q.accessoriesCategoryLandingPage:return{itemid:n,pagetype:t,vehicleid:i,Category1:c,recommendations:!0,parttype:d};case o.Q.noSearchResultPage:return{pagetype:o.Q.noSearchResultPage,vehicleid:i,recommendations:!0,deviceType:(0,r.Z)(),itemid:n};case o.Q.shoppingCartPage:return{pagetype:o.Q.shoppingCartPage,itemid:n,vehicleid:i,customerid:g,isRecItemAddedToCart:u,parttype:d};case o.Q.cartAdd:return{pagetype:o.Q.cartAdd,itemid:n,vehicleid:i,isRecItemAddedToCart:u,parttype:d};case o.Q.dealsDrawer:return{pagetype:o.Q.dealsDrawer,itemid:null!=n?n:"",vehicleid:null!=i?i:"",isRecItemAddedToCart:u};case o.Q.removeFromCartEvent:return{pagetype:o.Q.removeFromCartEvent,itemid:n};case o.Q.recommendations:return{pagetype:o.Q.recommendations,vehicleid:i,recommendations:!0};default:return{pagetype:""}}}},36203:(e,t,a)=>{"use strict";a.d(t,{S:()=>j});var r=a(46045),o=a(16690),n=a(89099),i=a(43534),c=a(44630),s=a(40097),l=a(3197),g=a(94092),d=a(70833),u=a(46400),p=a(86537),m=a(16206),h=a(97849),v=a(71703),y=a(73295),f=a(14180),I=a(21201),P=a(82114),T=a(18493),M=a(7467),w=a(48011),C=a(50513),S=a.n(C),N=a(87594),_=a(15180),R=a(29662),A=a(8642),L=a(34368),b=a(22092),z=a(76628);let Q="".concat(i.YX,"/ecomm/b2c/v1/currentUser"),k=async e=>{var t;let{values:a,rememberMe:n}=e,i=y.L.getItem("email");return a.email=i||a.email,a.login=i||a.login,"string"==typeof y.L.getItem("rememberMeChecked")&&(n="true"===y.L.getItem("rememberMeChecked")),E((await (0,c.v)().post(Q,(0,o._)((0,r._)({},a),{rememberMe:n}),{headers:{pageType:null==(t=window.utag_data)?void 0:t.pageType}})).data)},E=e=>e,x={"error.profile.createaccount.accountexist":"error.profile.createaccount.accountexist","error.profile.createaccount.invalidusernamepassword":"error.profile.createaccount.invalidusernamepassword","error.profile.createaccount.servererror":"error.profile.createaccount.servererror","error.profile.createaccount.recreateaccount":"error.profile.createaccount.recreateaccount","error.addOrUpdate.address.phoneNumber.input.exception":"error.addOrUpdate.address.phoneNumber.input.exception","error.phonenumber.exception.badrequest":"error.phonenumber.exception.badrequest"},j=e=>{let{onSuccess:t,onError:a}=e,o=(0,n.useRouter)(),i=(0,T.Y)(),{handleSaveItemOnSignUp:c}=(0,A.P)(),C=(0,z.b0)(x),Q=(0,M.A1)().state.isMobileApp,E="true"===(0,N.u)("NEW_SIGN_IN_ENABLED"),{trackCreateAccountSuccess:j}=(0,_.A)({signInType:"Password"}),U=(0,w.d4)(e=>{let{loginConfirmation:t}=e;return t.state}),{mutate:F}=(0,d.h)({onSuccess:async()=>{if(Q)try{var e,t;console.log("MobileAppStart4"),null==(t=S().ReactNativeWebView)||null==(e=t.postMessage)||e.call(t,"createAccountSuccess"),await new Promise(e=>setTimeout(e,500)),console.log("MobileAppWebViewPost4")}catch(e){console.log("MobileAppError4",e)}if(E||o.pathname!==u.C.cart&&o.pathname!==u.C.checkout){let e=y.L.getItem("rememberMeChecked"),t=(0,p.sq)(["loginInteractionMethod","prevUrlRouteValue"]),a=t.get("loginInteractionMethod"),r=t.get("prevUrlRouteValue"),n=S().utag_data,s="az:landing-page:lp:rewards"===n.pageName,l=(0,R.T4)();E?j(e):(0,g.a)({loginInteractionMethod:a,createAccount:(0,L.P)(i,(null==U?void 0:U.isRegisterFlow)||!1,Q,e),customLinkName:(0,b.V)(e),pageURL:n.pageType!==n.previousPageType&&n.previousPageType&&!s?n.previousPageURL:n.pageURL,pageName:s?n.pageName:n.previousPageName||n.pageName,pageType:s?n.pageType:n.previousPageType||n.pageType,siteSection:s?n.siteSection:n.previousPageSiteSection||n.siteSection}),l&&await c(l),y.L.setItem("loggedInFromMerge","true");let d="string"==typeof r?r:u.C.blankURL;o.push(d)}}}),O=(0,f.w)();return(0,s.n)({mutationFn:e=>k(e),onSuccess:(e,a)=>{null==t||t(e),y.L.setItem("loggedInFrom","create"),P.s.setItem("signInAlertShown","false"),P.s.setItem("signInAlertDisabled","true"),F({username:a.values.login,password:a.values.password,remember_me:a.rememberMe?"on":void 0,redirectTo:a.isModal?"":u.C.blankURL,refetch:!0}),Q||O({type:I.A.SHOW_REWARD_CONFIRMATION,state:{rewardsProfileInfo:{email:e.email,firstName:e.firstName,rewardsId:e.rewardsId}}})},onError:(e,t)=>{var o;null==a||a(e,t);let{pageName:n,siteSection:i,pageType:c}=null!=(o=null===S()||void 0===S()?void 0:S().utag_data)?o:{pageName:"",siteSection:"",pageType:""},s={pageName:n,pageType:c,siteSection:i};if((0,m.F)(e))if("1089"===(0,h.E)(e))(0,l.g)((0,r._)({eventType:"completeAccountMsg",customLinkName:"Create Account: Complete Account Popup"},s));else{let t="Create Account Failure",a=C[(0,v.u)(e)||""];(0,l.g)((0,r._)({eventType:"createAccountFailure",customLinkName:t,errorMsgType:t,errorMsg:a,errorCode:(0,h.E)(e)},s))}}})}},41205:(e,t,a)=>{"use strict";a.d(t,{n:()=>r.n});var r=a(53305)},50200:(e,t,a)=>{"use strict";a.d(t,{D:()=>o});var r=a(3197);let o=e=>{var t,a,o,n;let i=null!=(t=window.utag_data)?t:{},c=null!=(a=i.pageType)?a:"",s=null!=(o=i.pageName)?o:"",l=null!=(n=i.siteSection)?n:"",g={errorMsg:e.errormsg?e.errormsg:"",errorID:e.errorid?e.errorid:"",pageName:s||"",pageType:c||"",siteSection:l||"",eventType:"globalErrorTrigger"};(0,r.g)(g)}},52054:e=>{e.exports={azwhite:"#fff",azgrey1:"#f2f2f2",azgrey2:"#e6e6e6",azgrey3:"#a9aaa8",azgrey4:"#787878",azgrey5:"#5b5d5b",azgrey6:"#484848",azgrey7:"#5b5c5d",azgrey8:"#7c7c7c",azblack:"#202124",azlightorange:"#f37f00",azmediumorange:"#f26100",azmediumgrey:"#949494",azdarkorange:"#f23f00",azlightred:"#f52c1c",azmediumred:"#d52b1e",azdarkred:"#971e15",azcolorsuccess:"#1f7400",azcolorinfo:"#0050b3",azcolorinfoalt:"#0081b2",azcolorerror:"#b30000",azcolorcaution:"#ffc600",alertBlock:"az_Z3",errorPart:"az__3",messageSpace:"az_a4",removeMargin:"az_b4",successPart:"az_c4",alertType:"az_d4",alertTypeMargin:"az_e4",warnTypeMargin:"az_f4",infoTypeMargin:"az_g4",warnType:"az_h4",infoType:"az_i4",resetSuccessPart:"az_j4",spanMessage:"az_k4",flexContainer:"az_l4",objectContain:"az_m4"}},53305:(e,t,a)=>{"use strict";a.d(t,{l:()=>y,n:()=>f});var r=a(37876),o=a(14232),n=a(29060),i=a(76725),c=a(76628),s=a(32959),l=a.n(s),g=a(58103),d=a.n(g),u=a(45105),p=a.n(u),m=a(6351),h=a(16464);function v(){let e=(0,c.MW)("label_login_messages_GENERIC_SERVER_ERROR");return(0,r.jsx)(n.A,{message:e,error:!0})}let y={response:{data:{errorMessageKey:"label_create_account_error_RecaptchaScriptLoadError",errorCodeDescription:"Failed to load recaptcha script"}}},f=(0,o.forwardRef)((e,t)=>{let{size:a="invisible",badge:n="inline",className:c="",theme:s="light",id:g="g-recaptcha",captchaVerifyCallback:u}=e,[y,f]=(0,o.useState)(null),[I,P]=(0,o.useState)(!0),[T,M]=(0,o.useState)(!1),w=(0,m.e)();return(0,o.useImperativeHandle)(t,()=>({scriptLoadError:I,requestRecaptchaVerification:()=>{if((null==y?void 0:y.state.ready)&&!I)null==y||y.reset(),null==y||y.execute();else throw Error("reCaptcha not ready")},resetRecaptcha:()=>{I||null==y||y.reset()}})),(0,r.jsxs)("div",{"data-testid":"reCaptcha",className:c,children:[(0,r.jsx)(p(),{src:"https://www.google.com/recaptcha/api.js?render=explicit",type:"text/javascript",onError:function(){P(!0)},onLoad:function(){P(!1)}}),T?(0,r.jsx)(v,{}):null,(0,r.jsx)(i.A,{className:d()(w?l().googleRecaptchaContainerV2:l().googleRecaptchaContainer,c),sitekey:h.A.RECAPTCHA_SITE_KEY,ref:e=>{f(e)},size:a,badge:n,inject:!1,theme:s,id:g,onError:function(){M(!0)},onRender:function(){void 0!==y&&(null==y||y.reset(),P(!1))},onVerify:u})]})});f.displayName="GoogleRecaptcha"},70833:(e,t,a)=>{"use strict";a.d(t,{h:()=>T});var r=a(46045),o=a(16690),n=a(68946),i=a(43534),c=a(21201),s=a(44630),l=a(67768),g=a(40097),d=a(14180),u=a(94807),p=a(73295),m=a(58235),h=a(89099),v=a(7760);let y="".concat(i.YX,"/ecomm/b2c/v1/currentUser/v2/loginUser"),f="".concat(i.YX,"/ecomm/b2c/v1/currentUser/dynamic-credential/validate"),I=e=>e.data,P=async e=>{let{refetch:t,autoCreated:a,pageType:r}=e,{password:o,username:i,remember_me:c,googleRecaptchaToken:l,otpCode:g}=(0,n._)(e,["refetch","autoCreated","pageType"]),d=await (0,s.v)().post(a?f:y,a?{password:o,loginId:i,googleRecaptchaToken:l,otp:g}:{password:o,login:i,autoLogin:"on"===c?"true":"false",googleRecaptchaToken:l,otp:g},{headers:{pageType:r}});return t||console.log("SkippingRefetch"),I(d)},T=e=>{let{onSuccess:t,onError:a,onMutate:n}=e,i=(0,d.w)(),s=(0,h.useRouter)().route.split("/")[1],{refetch:y}=(0,u.po)(),{refetch:f}=(0,v.B)(),I=(0,l.jE)();return(0,g.n)({mutationFn:e=>P((0,o._)((0,r._)({},e),{pageType:s})),onSuccess:async(e,a)=>{p.L.setItem("username",a.username),a.autoCreated||(await f(),a.refetch&&await y(),I.invalidateQueries({queryKey:["landingPage"]}),I.invalidateQueries({queryKey:["user"]}),i({type:c.A.UPDATE_AUTHENTICATION,sessionAuthState:!0})),null==t||t(e),(0,m.P)("signIn")},onMutate:e=>{null==n||n(e)},onError:(e,t)=>{null==a||a(e,t)}})}},94092:(e,t,a)=>{"use strict";a.d(t,{a:()=>c});var r=a(46045),o=a(16690),n=a(86537);let i=e=>{{let t=setInterval(()=>{window.utag&&(window.utag.link(e),clearInterval(t),(0,n.Yj)("loginInteractionMethod"))},2e3)}},c=e=>{var t;i((0,o._)((0,r._)({eventType:"successfulLogin"},e),{pageURL:null!=(t=e.pageURL)?t:location.href}))}}}]);
//# sourceMappingURL=1950-fdf93fa5cdf4623b.js.map