(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4352],{3045:(e,r,a)=>{"use strict";a.d(r,{h:()=>E});var o=a(46045),s=a(16690),t=a(68946),l=a(43534),n=a(21201),i=a(44630),c=a(67768),d=a(40097),g=a(14180),u=a(94807),_=a(73295),m=a(7467),p=a(89099);let h="".concat(l.YX,"/ecomm/b2c/v1/currentUser/v2/loginUser"),f=e=>e.data,b=async e=>{let{pageType:r}=e,{password:a,username:o,remember_me:s,googleRecaptchaToken:l,otpCode:n}=(0,t._)(e,["pageType"]);return f(await (0,i.v)().post(h,{password:a,login:o,autoLogin:"on"===s?"true":"false",googleRecaptchaToken:l,otp:n},{headers:{pageType:r}}))},E=e=>{let{onSuccess:r,onError:a,onMutate:t}=e,l=(0,p.useRouter)().route.split("/")[1],i=(0,g.w)(),{refetch:h}=(0,u.po)(),{isMobileApp:f}=(0,m.A1)().state,E=(0,c.jE)();return(0,d.n)({mutationFn:e=>b((0,s._)((0,o._)({},e),{pageType:l})),onSuccess:async(e,a)=>{_.L.setItem("username",a.username),f||(await h(),E.invalidateQueries({queryKey:["landingPage"]}),E.invalidateQueries({queryKey:["user"]}),i({type:n.A.UPDATE_AUTHENTICATION,sessionAuthState:!0})),null==r||r(e)},onMutate:e=>{null==t||t(e)},onError:(e,r)=>{null==a||a(e,r)}})}},11743:e=>{e.exports={azwhite:"#fff",azgrey1:"#f2f2f2",azgrey2:"#e6e6e6",azgrey3:"#a9aaa8",azgrey4:"#787878",azgrey5:"#5b5d5b",azgrey6:"#484848",azgrey7:"#5b5c5d",azgrey8:"#7c7c7c",azblack:"#202124",azlightorange:"#f37f00",azmediumorange:"#f26100",azmediumgrey:"#949494",azdarkorange:"#f23f00",azlightred:"#f52c1c",azmediumred:"#d52b1e",azdarkred:"#971e15",azcolorsuccess:"#1f7400",azcolorinfo:"#0050b3",azcolorinfoalt:"#0081b2",azcolorerror:"#b30000",azcolorcaution:"#ffc600",errorPart:"az_My",mailErrorMessage:"az_Ny",errorImage:"az_Oy",forgotContainer:"az_Py",forgotIcon:"az_Qy",forgotContent:"az_Ry",captcha:"az_Sy",capitalize:"az_Ty",mailError:"az_Uy",mailErrorMsg:"az_Vy",closeButton:"az_Wy",forgotPasswordMainContainer:"az_Xy",excludeMobile:"az_Yy",includeMobile:"az_Zy",inputSection:"az__y",buttonSection:"az_az",headerCloseButton:"az_bz"}},18234:(e,r,a)=>{"use strict";a.d(r,{X:()=>G,A:()=>V});var o=a(37876),s=a(58103),t=a.n(s),l=a(86561),n=a(70470),i=a.n(n),c=a(9607),d=a(46045),g=a(14232),u=a(42252),_=a(12883),m=a.n(_),p=a(24913),h=a(56512),f=a(64777),b=a(41205),E=a(76628),x=a(28308),w=a(30093),C=a(96458),z=a(10315),y=a(11743),A=a.n(y),R=a(87594),v=a(86537),N=a(17118),I=a(71703);let S={lblWeSentAnEmailTo:"mf_forgotpassword_success_email_sent_message1",lblClickLinkToResetPassword:"mf_forgotpassword_success_email_sent_message2",lblCheckYourEmailForAResetPasswordLink:"label_loginEpic_page_CheckYourEmailForAResetPasswordLink"},j=e=>{let r=(0,E.b0)(S),{formValues:a}=e;return(0,o.jsxs)("div",{className:A().forgotContent,"data-testid":"az-forgot-password-confirmation",children:[(0,o.jsx)("h2",{children:r.lblCheckYourEmailForAResetPasswordLink}),(0,o.jsxs)("p",{className:m()["az-body-1-regular"],children:[r.lblWeSentAnEmailTo," ",(0,o.jsx)("strong",{children:null==a?void 0:a.email}),". ".concat(r.lblClickLinkToResetPassword)]})]})};var O=a(54211),M=a(62403);let T={label_CreateAccount_body_Email:"label_CreateAccount_body_Email",mf_forgotpasswordpage_forgot_button:"mf_forgotpasswordpage_forgot_button",label_Reset_EmailAddressAssociatedWithyourAccount:"label_Reset_EmailAddressAssociatedWithyourAccount",label_loginEpic_page_ForgotYourPassword:"label_loginEpic_page_ForgotYourPassword",mf_forgotpassword_error_email_not_found:"mf_forgotpassword_error_email_not_found",lblRecaptchaScriptLoadError:"label_create_account_error_RecaptchaScriptLoadError",label_generic_error:"label_genericError_TryAgain",label_login_messages_EMAIL_OR_USERNAME:"label_login_messages_EMAIL_OR_USERNAME",FORGOT_PWD_HELP_TXT:"label_loginEpic_page_EnterTheEmailAddressOrUsernameAssociatedWithYourMyzoneAccount",ENTER_VALID_EMAIL:"error_login_body_PleaseEnterAValidEmail"},P=e=>{var r;let{handleCloseClick:a,handleOnChangeTab:s}=e,l="true"===(0,R.u)("RECAPTCHA_ENFORCED_FOR_FORGOT_PASSWORD"),{mutate:n,status:i,error:c,data:_}=(0,N.G)({}),y=(0,E.b0)(T),S=(0,E.MW)(null!=(r=(0,I.u)(c))?r:T.label_generic_error),P=(0,E.MW)(T.lblRecaptchaScriptLoadError),[L,k]=(0,g.useState)(null),F=(0,g.useRef)(),G=(0,g.useRef)(),V=e=>{n(e)},D=(0,g.useCallback)(e=>{V({email:F.current.email,googleRecaptchaToken:e})},[]);return(0,g.useEffect)(()=>{if(c){let e=T.mf_forgotpassword_error_email_not_found;!function(e){let r={ForgotPasswordErrorMessage:(0,M.I)(e.errorMessage),ForgotPasswordFailureFlag:(0,M.I)(e.failureFlag)};(0,O.e)(r)}({errorMessage:e,failureFlag:!!e})}},[c]),(0,o.jsx)(u.l1,{initialValues:{email:"",googleRecaptchaToken:""},onSubmit:e=>{if(l){var r,a;(null==(r=G.current)?void 0:r.scriptLoadError)?k(P):(F.current=(0,d._)({},e),null==(a=G.current)||a.requestRecaptchaVerification())}else F.current=(0,d._)({},e),V(e)},validateOnChange:!1,validateOnBlur:!1,children:"success"!==i?(0,o.jsxs)(u.lV,{role:"presentation",action:"#",children:[(0,o.jsxs)("div",{className:A().forgotContent,children:[(0,o.jsx)("h1",{"data-testid":"checkout-forgot-password-header",id:"checkout-forgot-password-header",children:y.label_loginEpic_page_ForgotYourPassword}),(0,o.jsx)("p",{className:m()["az-body-1-regular"],children:y.FORGOT_PWD_HELP_TXT})]}),("error"===i||L)&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(x.A,{type:"error",message:(0,o.jsx)(h.A,{id:"forgot-pw-error-message",htmlString:null!=L?L:S,handleCloseClick:e=>{(0,v.TV)("loginInteractionMethod","Error Message"),a(),s(e,1)}}),customClasses:t()(m()["az-margin-top-xxs"],m()["az-align-left"])})}),(0,o.jsx)("div",{className:A().inputSection,children:(0,o.jsx)(u.D0,{name:"email",type:"text",component:f.A,"data-testid":"forgot-password-email-input",label:y.label_login_messages_EMAIL_OR_USERNAME,validate:e=>(0,z.K)(e,y.ENTER_VALID_EMAIL)||function(e){if(!(C.Tm.test(e)||C.HF.test(e)))return(0,o.jsx)(w.J,{label:"error_login_body_PleaseEnterAValidEmailOrUsername"})}(e),id:"checkout-forgot-pwd-emailId",maxLength:40,showErrorIfNotTouched:!0,showErrorUntilChange:!0,maxLengthError:!0,autoComplete:!0,autoFocus:!0})}),l&&(0,o.jsx)(b.n,{id:"forgotPasswordForm",ref:G,captchaVerifyCallback:D,className:A().captcha}),(0,o.jsx)("div",{className:A().buttonSection,children:(0,o.jsx)(p.$,{variant:"contained",type:"submit",disabled:"pending"===i,fullWidth:!0,"data-testid":"forgot-password-continue-button",id:"forgot-password-continue-button",children:y.mf_forgotpasswordpage_forgot_button})})]}):(0,o.jsx)(j,{formValues:_.email?_:F.current})})};var L=a(7467),k=a(54594);let F={src:"/images/close_icon.png",alt:"Close"};function G(e){let{isMobileApp:r}=(0,L.A1)().state,a=()=>{e.togglePopup()};return(0,o.jsxs)("div",{className:t()(A().forgotPasswordMainContainer,e.containerClassName),children:[r?null:(0,o.jsx)("div",{className:A().includeMobile,children:(0,o.jsx)(l.K,{"aria-label":"Close",className:A().headerCloseButton,onClick:a,"data-testid":"modal-close-btn",id:"forgot-modal-close-btn",children:(0,o.jsx)(c.A,{className:t()(i().defaultIconStyle,A().closeIcon)})})}),(0,o.jsxs)("div",{role:"dialog",className:A().forgotContainer,"aria-labelledby":"checkout-forgot-password-header",children:[(0,o.jsx)("button",{id:"forgot_containerClose",className:A().closeButton,onClick:a,children:(0,o.jsx)(k.Ay,{width:12,height:12,src:F.src,alt:F.alt})}),(0,o.jsx)("div",{className:A().forgotIcon,children:(0,o.jsx)(k.Ay,{src:"/images/primary.svg",alt:"AutoZone",width:236.35,height:28.8})}),(0,o.jsx)(P,{handleCloseClick:a,handleOnChangeTab:e.handleOnChangeTab})]})]})}let V=G},48139:e=>{e.exports={azwhite:"#fff",azgrey1:"#f2f2f2",azgrey2:"#e6e6e6",azgrey3:"#a9aaa8",azgrey4:"#787878",azgrey5:"#5b5d5b",azgrey6:"#484848",azgrey7:"#5b5c5d",azgrey8:"#7c7c7c",azblack:"#202124",azlightorange:"#f37f00",azmediumorange:"#f26100",azmediumgrey:"#949494",azdarkorange:"#f23f00",azlightred:"#f52c1c",azmediumred:"#d52b1e",azdarkred:"#971e15",azcolorsuccess:"#1f7400",azcolorinfo:"#0050b3",azcolorinfoalt:"#0081b2",azcolorerror:"#b30000",azcolorcaution:"#ffc600",signInForm:"az_Vv",formGroup:"az_Wv",labelError:"az_Xv",submitButton:"az_Yv",rememberMeCheckbox:"az_Zv",tooltip:"az__v",alertContainer:"az_aw",passwordInput:"az_bw",passwordVisibilityButton:"az_cw",rowWithOptions:"az_dw",forgotPasswordButton:"az_ew"}},56512:(e,r,a)=>{"use strict";a.d(r,{A:()=>l});var o=a(37876),s=a(14232),t=a(24913);let l=e=>{let{htmlString:r,id:a,handleCloseClick:l}=e,[n,i]=(0,s.useState)([]),[c,d]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=new DOMParser().parseFromString(r,"text/html"),o=e.querySelector("a");if(o){var s,t;d(o.textContent||""),i([(null==(s=o.previousSibling)?void 0:s.textContent)||"",(null==(t=o.nextSibling)?void 0:t.textContent)||""])}else{let r=e.getElementById(a);r&&i([r.textContent||""])}},[r,a]),c?(0,o.jsxs)("div",{id:a,tabIndex:0,children:[n[0]?n[0]:null,c&&(0,o.jsx)(t.$,{variant:"link",role:"link",onClick:l,children:c}),n[1]?n[1]:null]}):(0,o.jsx)("div",{id:a,tabIndex:0,children:r})}},62403:(e,r,a)=>{"use strict";function o(e){return null==e||""===e||Array.isArray(e)&&e.length<1?"":e}a.d(r,{I:()=>o})},63181:(e,r,a)=>{"use strict";a.d(r,{b:()=>G});var o=a(46045),s=a(68946),t=a(37876),l=a(96952),n=a(41205),i=a(54594),c=a(61559),d=a(57289),g=a(3197),u=a(87594),_=a(30093),m=a(76628),p=a(14180),h=a(7467),f=a(86537),b=a(71703),E=a(97849),x=a(96458),w=a(66987),C=a(56958),z=a(92004),y=a(78795),A=a(36183),R=a(9256),v=a(33379),N=a(58103),I=a.n(N),S=a(14232),j=a(88992),O=a(48011),M=a(78772),T=a(48139),P=a.n(T);let L={modalHeadingSignIn:"label_modal_heading_signin",emailOrUsername:"label_login_messages_EMAIL_OR_USERNAME",password:"label_login_messages_PASSWORD",rememberMe:"label_login_messages_REMEMBER_ME",forgotPassword:"label_login_messages_ForgotPassword",signIn:"label_login_messages_SIGNIN",hide:"label_login_messages_HIDE",hidePassword:"label_login_messages_HIDEPASSWORD",show:"label_login_messages_SHOW",showPassword:"label_login_messages_SHOWPASSWORD",forgotPwdValidEmailOrUsername:"error_Common_Validation_InvalidEmailOrUsername",invalidPassword:"label_login_messages_invalid_password",PROBLEM_LOGGING_IN:"label_login_messages_PROBLEM_LOGGING_IN",INVALID_CREDENTIALS:"label_login_messages_INVALID_CREDENTIALS",FORGOT_FORCE_PASSWORD_CHANGE:"label_login_messages_ForgotForcePasswordChange",FORCE_PASSWORD_CHANGE:"label_login_messages_FORCE_PASSWORD_CHANGE",ACCOUNT_LOCKED_TOO_MANY_ATTEMPTS:"label_login_messages_ACCOUNT_LOCKED_TOO_MANY_ATTEMPTS",GENERIC_SERVER_ERROR:"label_login_messages_GENERIC_SERVER_ERROR","error.profile.createaccount.invaliduserpassword.ACCOUNT1002":"error.profile.createaccount.invaliduserpassword.ACCOUNT1002","error.login.invalid.profile.site":"error.login.invalid.profile.site","error.profile.login.maxattemptsreached":"error.profile.login.maxattemptsreached","error.profile.otp.unrecognized.phone":"error.profile.otp.unrecognized.phone","error.profile.createaccount.passwordresetprocessbegun":"error.profile.createaccount.passwordresetprocessbegun"},k=(e,r)=>r in e?e[r]:r,F=(e,r,a)=>{let{rememberMe:t}=e,l=(0,s._)(e,["rememberMe"]),n=(0,f.sq)(["redirect_url"]);return(0,o._)({remember_me:t?"on":"off",redirectTo:null!=r?r:n.get("redirect_url")},l,a&&{googleRecaptchaToken:a})},G=e=>{let{handleForgotPasswordClick:r,onSubmit:a,error:o,isLoading:s,analyticsPageType:f,redirectToOnSignIn:N,buttonStyleType:T=""}=e,G=(0,p.w)(),V="true"===(0,u.u)("RECAPTCHA_ENFORCED_FOR_LOGIN"),D=(0,m.b0)(L),U=(0,b.u)(o,!1),W=U?k(D,U):"",B=(0,S.useRef)(),[H,Y]=(0,S.useState)(!1),[q,K]=(0,S.useState)(!1),X=(0,O.d4)(e=>{let{appData:r}=e;return r.canShowToastNotification}),Q=(0,m.MW)("label_create_account_error_RecaptchaScriptLoadError"),{isMobileApp:J}=(0,h.A1)().state,[Z,$]=(0,S.useState)(!1),{handleSubmit:ee,control:er,formState:ea,getValues:eo,trigger:es,setError:et,reset:el}=(0,j.mN)({defaultValues:{username:"",password:"",rememberMe:!0},mode:"all"}),{errors:en}=ea,ei=()=>{G((0,l.kG)(!1))};(0,S.useEffect)(()=>{Y(!!W);let{username:e}=eo(),r="cart"===f?"az:cart:full-cart":"az:".concat(null!=f?f:"");o&&(U===c.gQ?(0,g.g)({customLinkName:"Login:Complete Account Popup",pageName:"az:signIn",pageType:"signIn",siteSection:"signIn"}):(0,g.g)({eventType:"signInFailure",errorMsgType:"Sign In Failure",errorMsg:W,errorCode:(0,E.E)(o),CustomLinkName:"Sign In Failure",pageName:r,pageType:f,pageURL:window.parent.location.href,siteSection:"cart-and-checkout",loginMethod:e.includes("@")?"Email":"Username"}),el())},[o,W,eo,U,f,el]);let ec=H&&!!W&&W!==c.gQ,ed=["inlineLogin"].includes(T),eg=["sendListLogin","signIn","inlineLogin"].includes(T),eu=["signIn"].includes(T);return(0,t.jsx)("div",{className:P().signInForm,children:(0,t.jsxs)("form",{onSubmit:ee(e=>{if(ei(),V){var r,o;return(null==(r=B.current)?void 0:r.scriptLoadError)?(el(),K(!0)):null==(o=B.current)?void 0:o.requestRecaptchaVerification()}K(!1),a(F(e,N))}),children:[(ec||q)&&(0,t.jsx)("div",{id:"sign-in-page-error",className:P().alertContainer,children:(0,t.jsx)(w.E,{text:q?Q:W,type:"error",hasCloseButton:!!W,onClose:()=>{Y(!1)}})}),X&&!J&&(0,t.jsx)("div",{id:"sign-in-page-error",className:P().alertContainer,children:(0,t.jsx)(w.E,{text:(0,t.jsx)(_.J,{label:"label_login_messages_SESSION_TIMEOUT_ERROR"}),type:"error",hasCloseButton:!0,onClose:ei})}),(0,t.jsx)(j.xI,{name:"username",control:er,rules:{required:!0,minLength:4,maxLength:40,validate:e=>x.Tm.test(e)||x.HF.test(e)},render:e=>{let{field:{onChange:r,value:a,name:o}}=e;return(0,t.jsx)("div",{className:P().formGroup,"data-testid":"username",children:(0,t.jsxs)(C.M,{hasError:!!en.username,children:[(0,t.jsx)(z.A,{attributes:{onBlur:()=>{es("username")}},name:o,inputMode:"email",label:D.emailOrUsername,onChange:e=>{e.target.value.length<=40?r(e):et("username",{message:"labels_Email_Max_Validation"})},value:a}),(0,t.jsx)(C.M.Error,{children:(0,t.jsx)(_.J,{label:function(e){if(null==e?void 0:e.message)return e.message;let r="error_Common_Validation_InvalidEmailOrUsername";return(null==e?void 0:e.type)==="maxLength"&&(r="labels_Email_Max_Validation"),r}(en.username)})})]})})}}),(0,t.jsx)(j.xI,{name:"password",control:er,rules:{required:!0,minLength:6,maxLength:30},render:e=>{let{field:{onChange:r,value:a,name:o}}=e;return(0,t.jsx)("div",{className:I()(P().formGroup,P().passwordInput),"data-testid":"password",children:(0,t.jsxs)(C.M,{hasError:!!en.password,children:[(0,t.jsx)(z.A,{attributes:{onBlur:()=>{es("password")},style:{paddingRight:"8px"}},id:"password",name:o,label:D.password,onChange:r,value:a,type:Z?"text":"password",endElement:(0,t.jsxs)("button",{id:Z?"hide-password-btn":"show-password-btn","aria-label":Z?D.hidePassword:D.showPassword,className:P().passwordVisibilityButton,type:"button","data-testid":"toggle-password",onClick:()=>{$(e=>!e)},children:[(0,t.jsx)(i.Ay,{src:Z?d.yG.src:d.KY.src,alt:Z?d.yG.alt:d.KY.alt,width:22,height:22}),J?null:Z?(0,t.jsx)(y.E,{variant:"subtitle-regular",color:"500",children:D.hide}):(0,t.jsx)(y.E,{variant:"subtitle-regular",color:"500",children:D.show})]})}),(0,t.jsx)(A.S,{attributes:{id:"passwordErrorSignInFormID"},children:(0,t.jsx)(C.M.Error,{children:D.invalidPassword})})]})})}}),J?null:(0,t.jsxs)("div",{className:I()(P().formGroup,P().rowWithOptions),children:[(0,t.jsx)(j.xI,{name:"rememberMe",control:er,render:e=>{let{field:{onChange:r,value:a,name:o}}=e;return(0,t.jsx)(R.S,{name:o,checked:a,label:D.rememberMe,onChange:e=>r(e.target.checked),className:P().rememberMeCheckbox,value:o})}}),(0,t.jsx)(M.M,{tooltipClass:P().tooltip}),(0,t.jsx)("button",{className:P().forgotPasswordButton,type:"button",role:"button",onClick:r,"data-testid":"forgot-pwd-button",children:D.forgotPassword})]}),V&&(0,t.jsx)("div",{className:P().formGroup,children:(0,t.jsx)(n.n,{id:"forgotPasswordForm",ref:B,captchaVerifyCallback:e=>{K(!1),a(F(eo(),N,e))},className:P().captcha})}),(0,t.jsx)(v.$,{variant:"primary",type:"submit",attributes:{style:{height:"56px",marginTop:eg?"10px":"",width:ed?"50%":""}},loading:s,"data-testid":"submit-button",children:(0,t.jsx)(y.E,{textCase:eu?"uppercase":"capitalize",children:D.signIn})})]})})}}}]);
//# sourceMappingURL=4352-d1c0906916969318.js.map