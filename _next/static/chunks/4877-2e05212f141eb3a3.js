(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4877],{12554:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(37876);let n=e=>(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"img"},e,{children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.498 15.871c-.68 0-1.321-.078-1.933-.205l1.873-1.917c.248.069.506.111.776.111 1.627 0 2.947-1.35 2.947-3.016 0-.276-.041-.541-.109-.795l1.632-1.669c1.662 1.038 2.828 2.339 3.402 3.069-1.067 1.296-4.108 4.422-8.588 4.422Zm10.646-4.957c-.094-.149-1.495-2.295-4.028-4l3.9-3.993-1.39-1.421L1.5 21.078 2.889 22.5l5.055-5.175c1.074.343 2.258.558 3.554.558 6.684 0 10.478-5.616 10.637-5.857l.365-.55-.356-.562ZM5.311 16.5l1.451-1.652a14.593 14.593 0 0 1-2.809-2.845c1.07-1.519 4.15-5.23 8.735-5.23.378 0 .741.034 1.098.082l1.714-1.95a10.183 10.183 0 0 0-2.812-.405c-6.809 0-10.667 6.618-10.827 6.9l-.361.635.372.623c.088.147 1.277 2.097 3.439 3.842Z",clipRule:"evenodd"})}))},12823:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(37876);let n=e=>(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"img"},e,{children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 17c-4.165 0-7.549-3.576-8.731-5.001C4.448 10.573 7.82 7 12 7c4.165 0 7.549 3.576 8.731 5.001C19.552 13.427 16.18 17 12 17Zm10.817-5.576C22.633 11.162 18.222 5 12 5S1.367 11.162 1.183 11.424a.998.998 0 0 0 0 1.152C1.367 12.838 5.778 19 12 19s10.633-6.162 10.817-6.424a.998.998 0 0 0 0-1.152ZM12 14c-1.103 0-2-.897-2-2 0-1.102.897-2 2-2s2 .898 2 2c0 1.103-.897 2-2 2Zm0-6c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4Z",clipRule:"evenodd"})}))},21337:(e,t,r)=>{"use strict";r.d(t,{t:()=>e6});var a=r(91761),n=r(90073),s=r(46045),o=r(16690),i=r(37876),l=r(14232),d=r(88992),c=r(36268),u=r(96952),_=r(24105),p=r(42252),g=r(77328),h=r.n(g),m=r(51717),b=r(12883),x=r.n(b),w=r(76628),f=r(89099),S=r(55831),j=r(33511),E=r(10315),I=r(42475),y=r.n(I),v=r(87594),C=r(36183),R=r(33379),P=r(76355),k=r(15227);let A={lblResetPassword:"mf_resetpwdpage_resetpassword",lblLinkYourAccountForYourSecurityPleaseCreateANewPassword:"label_LinkYourAccount_body_ForYourSecurityPleaseCreateANewPassword",lblMyAccountProfileFormYourPasswordMustBeAtLeast6Characters:"label_MyAccountProfile_form_YourPasswordMustBeAtLeast6Characters",lblB1uttonContactUsUserFormsSubmit:"button_ContactUs_UserForms_Submit",lblloginMessagesPASSWORD:"label_login_messages_PASSWORD",lblResetPasswordUpperCase:"button_loginEpic_page_ResetPassword"},O=e=>{let{resetPasswordMutation:t}=e,r=(0,f.useRouter)(),a=(0,w.b0)(A),n="true"===(0,v.u)("ENABLE_NEW_PASSWORD_REQS"),o=(0,P.U)(e=>e.breakpoints.only("sm")),{flowType:d}=(0,l.useContext)(k.G),c=(0,l.useRef)(null),u=(0,l.useRef)(null),_=()=>{c.current&&c.current.focus()},g=()=>{u.current&&u.current.focus()},b=e=>{let{query:a}=r;t({password:e.password,resetPasswordKey:a.code,checkPasswordRules:n})},I="signInOrCreateNewPW"===d?(0,s._)({height:o?"56px":"52px",minHeight:"52px"},{marginTop:o?"4px":"16px"}):{},O=e=>{var t,r,a,n;let s=null!=(n=null!=(a=null==(t=u.current)?void 0:t.value)?a:null==(r=c.current)?void 0:r.value)?n:"";(0,j.y)(s)||"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),b({password:s}))};return(0,i.jsx)(p.l1,{onSubmit:b,initialValues:{password:""},validateOnBlur:n,validateOnChange:n,children:e=>{let{dirty:t,isSubmitting:r,isValid:s}=e;return(0,i.jsx)(p.lV,{action:"#",role:"presentation",noValidate:!0,onKeyDown:O,children:(0,i.jsxs)(C.S,{children:[(0,i.jsx)(h(),{children:(0,i.jsx)("title",{children:a.lblResetPassword})}),(0,i.jsxs)(C.S,{children:[(0,i.jsx)("div",{className:"".concat(y().passwordHolder," "),children:n?(0,i.jsx)(p.D0,{id:"restPwdField",type:"password",name:"password",isValid:s&&t,component:m.Y,dirty:t,label:"New Password",className:x()["az-body-2-regular"],maxLength:30,validate:e=>(0,j.y)(e,!0),showPasswordRequirements:!0,required:!0,inputRef:c,setFocusToInputField:_,useNewTextField:!0}):(0,i.jsx)(p.D0,{name:"password",isValid:s&&t,component:m.Y,label:"New Password",helperText:a.lblMyAccountProfileFormYourPasswordMustBeAtLeast6Characters,className:x()["az-body-2-regular"],maxLength:30,validate:e=>(0,E.K)(e)||(0,S.O)(e),showErrorUntilChange:!0,displayShowText:!0,maxLengthError:!0,required:!0,inputRef:u,setFocusToInputField:g,useNewTextField:!0})}),(0,i.jsx)("div",{className:y().buttonSection,children:(0,i.jsx)(C.S,{direction:"column",children:(0,i.jsx)(C.S.Item,{gapBefore:4,children:(0,i.jsx)(R.$,{disabled:n&&(!t||!s),loading:r,size:"large",type:"submit",variant:"primary",attributes:{style:I},children:a.lblResetPasswordUpperCase})})})})]})]})})}})};var T=r(58103),M=r.n(T),L=r(30093),N=r(18493),B=r(12541),D=r(46519),F=r(46275),z=r(3197),W=r(40823),V=r(20459),U=r(68803),H=r(57155),G=r(86113),J=r(78795),q=r(61469),Y=r(66987),K=r(73857),Z=r(56958),$=r(92004),Q=r(67011),X=r(80451),ee=r(9256),et=r(31234),er=r(12823),ea=r(12554),en=r(30154),es=r(8593),eo=r(70833),ei=r(17118),el=r(86537),ed=r(61559),ec=r(46400),eu=r(71703),e_=r(97849),ep=r(74859),eg=r.n(ep),eh=r(48011),em=r(14180),eb=r(53305),ex=r(93384),ew=r(61752),ef=r(4647),eS=r.n(ef);let ej=(0,l.forwardRef)((e,t)=>{let{disabled:r,loading:a,size:n,onClick:s,text:o,id:l,gapBefore:d}=e,c=(0,P.U)(e=>e.breakpoints.down("md"));return(0,i.jsx)(C.S.Item,{attributes:{id:l},children:(0,i.jsx)(C.S,{padding:[null!=d?d:"Sign In"===o||"Forgot Password"===o?3:4,0,0,0],children:(0,i.jsx)(R.$,{ref:t,disabled:r,loading:a,size:n,onClick:s,variant:"primary",attributes:{style:{height:c?"56px":"52px"}},className:r?eS().buttonOverride:"",children:o})})})});ej.displayName="SignInButton";var eE=r(96458),eI=r(18847),ey=r.n(eI),ev=r(65993),eC=r.n(ev),eR=r(50513),eP=r.n(eR);function ek(e){let{email:t,setIsOpen:r}=e,[a,n]=(0,l.useState)(!0),[s,o]=(0,l.useState)(eP().innerWidth),[d,c]=(0,l.useState)(s<720),[u,_]=(0,l.useState)(308),[p,g]=(0,l.useState)(540);return r(a),(0,l.useEffect)(()=>{let e=eP().innerWidth;o(e),c(e<720);let t=100,r=100;e>=1140?(t=308,r=540):e<1140&&e>719&&(t=232,r=542),_(t),g(r)},[d]),(0,i.jsx)(et.a,{open:a,onClose:()=>{n(!1),r(!1)},hasHeaderBackButton:!1,hasCloseButton:!0,headerColor:d?"primary":"secondary",size:{s:"full",m:"small",l:"auto"},attributes:d?{}:{style:{height:u.toString()+"px",width:p.toString()+"px"}},className:eC().modalContent,children:(0,i.jsxs)(C.S,{direction:"column",justify:"center",padding:{s:5,m:[1.5,14,15,14],l:[2.5,45/4,45/4,45/4]},children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(J.E,{variant:"large-body",weight:"bold",className:M()(eC().starcTextLargeBodyLineHeight,eC().mobileTitleLineBreak),children:(0,i.jsx)(L.J,{label:"label_streamline_signin_autoCreatedOnlineAccountEmailModal_title"})})}),(0,i.jsx)(C.S.Item,{gapBefore:3,children:(0,i.jsx)(J.E,{variant:"main-body",weight:"bold",className:eC().starcTextMainBodyLineHeight,children:t})}),(0,i.jsx)(C.S.Item,{gapBefore:4,children:(0,i.jsx)(J.E,{variant:"main-body",className:eC().starcTextMainBodyLineHeight,children:(0,i.jsx)(L.J,{label:"label_streamline_signin_autoCreatedOnlineAccountEmailModal_text"})})})]})})}var eA=r(80612),eO=r(36203),eT=r(39551),eM=r(99497),eL=r(67768),eN=r(36390),eB=r(56373),eD=r.n(eB),eF=r(12425),ez=r(89526);let eW=e=>{var t;let{labels:r,login:a,setRewardsIdHasBeenEntered:n,setLinkedRewardsId:s}=e,o=(0,P.U)(e=>e.breakpoints.down("sm")),[d,u]=(0,l.useState)(""),[_,p]=(0,l.useState)(!1),{mutateAsync:g,data:h}=(0,eF.J)(),m=(0,eL.jE)(),{setRewardsStateFn:b,setFlowTypeFn:x}=(0,l.useContext)(k.G),w=async()=>{(await g({rewardsId:d})).isIdValid?((0,c.E)({rewardsAccountNo:d,custLookupRewardsLinkingId:""},m),x("manualCreateAccount"),n(!0),b("loggedIn"),s(d),(0,eN.mI)()):p(!0)},f=16!==d.length;return(0,i.jsxs)(C.S,{direction:"column",children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(J.E,{variant:"large-body",weight:"bold",as:"h1",className:eD().adjustStarcLargeBody,children:o?"Look Up Your AutoZone Rewards ID":"Link Your Rewards Account to Your Online Account"})}),(0,i.jsx)(C.S.Item,{gapBefore:3,children:(0,i.jsx)(J.E,{variant:"main-body",weight:"bold",className:eD().adjustStarcMainBody,children:a})}),(0,i.jsx)(C.S.Item,{gapBefore:4,children:(0,i.jsx)(J.E,{variant:"main-body",className:eD().adjustStarcMainBody,children:"Enter your 16-digit ID. You can find your ID at the bottom of your AutoZone Rewards emails."})}),(0,i.jsx)(C.S.Item,{gapBefore:5,children:(0,i.jsxs)(Z.M,{hasError:_,children:[(0,i.jsx)($.A,{required:!0,variant:"floating",id:"rewardsId",label:"".concat(r.label_page_title_rewards," ").concat(r.label_completeAccount_membership_id),onChange:e=>{u(e.target.value),p(!1),0===e.target.value.length&&p(!0)},attributes:{onBlur:e=>{0===e.target.value.length&&p(!0)},style:_?{outline:"#b30000"}:{}},value:d,inputAttributes:{maxLength:16,"aria-label":"AutoZone rewards membership ID"},inputMode:"numeric",labelClassName:eD().checkoutRewardsInputLabel,hasError:_}),(0,i.jsx)(Z.M.Error,{children:0===d.length?r.label_AutozoneRewardsMembershipIDisRequired:null!=(t=null==h?void 0:h.errorMessage)?t:""})]})}),(0,i.jsx)(C.S.Item,{gapBefore:4,children:(0,i.jsx)(R.$,{variant:f?"ghost":"primary",size:"large",attributes:{style:{minHeight:"52px",background:f?"var(--st-color-disabled)":void 0},id:"rewards_id_membership_apply"},className:eD().checkoutRewardsButton,disabled:f,onClick:()=>{w()},children:"Continue"})}),(0,i.jsx)(C.S.Item,{gapBefore:3,children:(0,i.jsxs)(J.E,{variant:"small-body",className:eD().adjustStarcSmallBody,children:["You can find your ID at the bottom of your AutoZone emails, or call"," ",(0,i.jsx)(ez.U,{phoneNumber:"1-800-741-9179"}),"."]})})]})};var eV=r(85274),eU=r.n(eV);let eH=e=>{let{rewardsEnterIdModalOpen:t,setRewardsEnterIdModalOpen:r,setLinkedRewardsId:a,setRewardsIdHasBeenEntered:n,labels:s,login:o}=e,d=(0,P.U)(e=>e.breakpoints.up("lg")),{setRewardsStateFn:c,setFlowTypeFn:u}=(0,l.useContext)(k.G);return(0,i.jsx)(et.a,{open:t&&d,hasCloseButton:!0,backButtonTitle:"Back",headerColor:"secondary",attributes:{style:{width:"540px"}},onBackClick:()=>{},onClose:()=>{r(!1),c("initial"),u("manualCreateAccount")},size:"auto",className:eU().modalContent,children:(0,i.jsx)(C.S,{padding:{s:0,m:0,l:[1.5,45/4,45/4,45/4]},children:(0,i.jsx)(eW,{setLinkedRewardsId:a,setRewardsIdHasBeenEntered:n,labels:s,login:o})})})};var eG=r(502),eJ=r(89445),eq=r(80175),eY=r(30130),eK=r(29029),eZ=r(78772),e$=r(68983),eQ=r(73295),eX=r(75313),e0=r(82114),e1=r(94807),e4=r(54594),e2=r(61486);let e5=ey()(()=>Promise.all([r.e(1923),r.e(1475)]).then(r.bind(r,91475)),{loadableGenerated:{webpack:()=>[91475]}}),e3={mf_homepage_header_signin:"mf_homepage_header_signin",modalHeadingSignIn:"label_modal_heading_signin",emailOrUsername:"label_login_messages_EMAIL_ADDRESS_OR_USERNAME",password:"label_login_messages_PASSWORD",rememberMe:"label_login_messages_REMEMBER_ME",signIn:"label_login_messages_SIGNIN",hide:"label_login_messages_HIDE",hidePassword:"label_login_messages_HIDEPASSWORD",show:"label_login_messages_SHOW",showPassword:"label_login_messages_SHOWPASSWORD",forgotPwdValidEmailOrUsername:"error_Common_Validation_InvalidEmailOrUsername",invalidPassword:"label_login_messages_invalid_password",PROBLEM_LOGGING_IN:"label_login_messages_PROBLEM_LOGGING_IN",INVALID_CREDENTIALS:"label_login_messages_INVALID_CREDENTIALS",label_CreateAccount_page_SignIn:"label_CreateAccount_page_SignIn",label_create_a_new_password:"label_create_a_new_password",RESET_PASSWORD:"mf_resetpassword_msg",lblResetPasswordUpperCase:"button_loginEpic_page_ResetPassword",RESETTING_PASSWORD:"label_login_messages_resetting_your_password",FORGOT_FORCE_PASSWORD_CHANGE:"label_login_messages_ForgotForcePasswordChangeV2",FORCE_PASSWORD_CHANGE:"label_login_messages_FORCE_PASSWORD_CHANGE",ACCOUNT_LOCKED_TOO_MANY_ATTEMPTS:"label_login_messages_ACCOUNT_LOCKED_TOO_MANY_ATTEMPTS_V2",INVALID_PERSON:"We don't recognize these credentials. Please try again.","error.internal.server.error":"error.internal.server.error",GENERIC_SERVER_ERROR_REFRESH:"label_login_messages_GENERIC_SERVER_ERROR_REFRESH",back:"label_back",welcomeBack:"label_login_welcome_back",signInMessage:"label_login_messages_SIGNIN_EARN_REWARDS",createAccount:"label_login_messages_CREATE_ACCOUNT",or:"label_login_messages_OR",memberBenefits:"label_login_messages_RIGHT_SIDE_CONTENT_HEAD",rightSideListOneMX:"label_Recibe_las_mejores_promociones",rightSideListTwoMX:"label_Ubica_mas_de_550",rightSideListThreeMX:"label_Encuentra_miles_de_productos",pageTitle:"label_page_title_signin",pageDescription:"label_page_description_signin",forgotPassword:"label_forgot_password_capitalized",label_MyAccountAddService_form_Change:"label_MyAccountAddService_form_Change",label_login_messages_REMEMBER_ME_TOOLTIP_TITLE:"label_login_messages_REMEMBER_ME_TOOLTIP_TITLE",label_login_messages_REMEMBER_ME_TOOLTIP_BODY:"label_login_messages_REMEMBER_ME_TOOLTIP_BODY",label_create_account_error_RecaptchaScriptLoadError:"label_create_account_error_RecaptchaScriptLoadError",label_an_email_will_be_sent:"label_an_email_will_be_sent",label_please_enter_the_pw:"label_please_enter_the_pw",label_MyAccountLanding_Rewards_Welcome:"label_MyAccountLanding_Rewards_Welcome",label_forgot_password_capitalized:"label_forgot_password_capitalized",label_forgot_password_check_email:"label_forgot_password_check_email",label_rewards_to_claim_your_credits:"label_rewards_to_claim_your_credits",label_rewards_find_my_id:"Look up my id",label_rewards_enter_my_id:"Enter my id",label_optional_lookup:"label_optional_lookup",label_did_you_sign_up:"label_did_you_sign_up","error.createuser.recaptcha.invalid":"error.createuser.recaptcha.invalid","error.createuser.recaptcha.missingtoken":"error.createuser.recaptcha.missingtoken",label_one_time_verification_code_email:"label_one_time_verification_code_email",label_one_time_verification_code_username:"label_one_time_verification_code_username",label_enter_one_time_verification_code:"label_enter_one_time_verification_code",label_enter_one_time_verification_code_to_sign_in:"label_enter_one_time_verification_code_to_sign_in",label_enter_one_time_verification_code_forgotPassword:"label_enter_one_time_verification_code_forgotPassword",label_enter_password_or_one_time_verification_code:"label_enter_password_or_one_time_verification_code",label_enter_one_time_verification_code_email:"label_enter_one_time_verification_code_email",label_enter_one_time_verification_code_username:"label_enter_one_time_verification_code_username",label_otp_code_must_be_six_digits:"label_otp_code_must_be_six_digits",label_resend_code:"label_resend_code",label_email_code:"label_email_code",label_sign_in_with_password:"label_sign_in_with_password",label_send_code:"label_send_code",label_enter_password_instead:"label_enter_password_instead",label_verification_code:"label_verification_code",label_email_me_a_code:"label_email_me_a_code",label_enter_my_password:"label_enter_my_password",label_otp_error_resendCode_maxRequests_1of2:"label_otp_error_resendCode_maxRequests_1of2",label_otp_error_resendCode_maxRequests_2of2:"label_otp_error_resendCode_maxRequests_2of2",label_otp_fieldError_invalidInput:"label_otp_fieldError_invalidInput",label_password:"label_login_messages_PASSWORD",label_completeAccount_new_password_placeholder:"label_completeAccount_new_password_placeholder",label_confirmPassword:"label_confirm_password",label_confirmationTitle:"label_edit_password_confirmation_title",label_confirmationText:"label_edit_password_confirmation_text",label_confirmPasswordError:"label_edit_password_error",label_editModalTitle:"label_MyAccountProfile_form_UpdatePassword",label_sign_in_and_keep_password:"label_sign_in_and_keep_password"};function e6(e){var t,r,p;let{isMobileApp:g,redirectToOnSignIn:h,analyticsPageType:m,showHeaderAndFooter:b=!0,isModal:x,changeFlowType:S,resetFlags:j,onClose:E}=e,I=(0,F.w)(),y=(0,D.s)(),A=(0,eq.Y)(),T=(0,w.b0)(e3),ep=(0,w.b0)(U.ly),ef=(0,f.useRouter)(),{data:eS}=(0,eG.b)(),eI=(0,N.Y)()===B.Ns.mx,ey=(0,em.w)(),[ev]=(0,eJ.QN)("rewardsData"),{linkedRewardsInfo:eC}=null!=ev?ev:{},{data:eR}=(0,G.je)(),eN=(0,l.useRef)(),eB=(0,l.useRef)(),eD=(0,l.useRef)(),eF=(0,l.useRef)(),ez=(0,l.useRef)(),eV=(0,l.useRef)(null),eU=(0,l.useRef)(),e6=(0,l.useRef)(null),e7=(0,l.useRef)(null),e8=(0,P.U)(e=>e.breakpoints.down("sm")),e9=(0,P.U)(e=>e.breakpoints.down("md")),te=(0,P.U)(e=>e.breakpoints.down("md")),tt=(0,P.U)(e=>e.breakpoints.up("lg")),tr=(0,eh.d4)(e=>e.appData.userAuthenticated),ta=(0,eL.jE)(),tn=[U.fD,U.v5],[ts,to]=(0,l.useState)(""),[ti,tl]=(0,l.useState)(""),[,td]=(0,l.useState)(""),[tc,tu]=(0,l.useState)(tn),[t_,tp]=(0,l.useState)(!1),[tg,th]=(0,l.useState)(!1),[tm,tb]=(0,l.useState)(!1),[tx,tw]=(0,l.useState)(!1),[tf,tS]=(0,l.useState)(!1),[tj,tE]=(0,l.useState)("sign_in"),[tI,ty]=(0,l.useState)(!1),[tv,tC]=(0,l.useState)(!1),{refetch:tR}=(0,e1.po)(),{setFlowTypeFn:tP,flowType:tk,setShowGlobalNotificationFn:tA,showGlobalNotification:tO,setRewardsStateFn:tT,rewardsState:tM,userLogin:tL,setUserLoginFn:tN,previousFlowType:tB}=(0,l.useContext)(k.G),tD=(0,eY.n)("MOBILE_APP_STREAMLINED_FLOW_VERSION"),tF="resetPasswordEmailSent"===tk,tz=(0,e$.Y)(),tW="true"===(0,v.u)("RECAPTCHA_ENFORCED_FOR_LOGIN"),tV="true"===(0,v.u)("RECAPTCHA_ENFORCED_FOR_VALIDATE_ACCOUNT_EXISTENCE"),tU="true"===(0,v.u)("OTP_FORGOT_PASSWORD_ENABLED"),tH=!g&&tU&&tz||tU&&tz&&tD,tG="true"===(0,v.u)("RECAPTCHA_ENFORCED_FOR_FORGOT_PASSWORD"),tJ="true"===(0,v.u)("RECAPTCHA_ENFORCED_FOR_SEND_CODE"),[tq,tY]=(0,l.useState)(!1),[tK,tZ]=(0,l.useState)(!1),[t$,tQ]=(0,l.useState)(!1),[tX,t0]=(0,l.useState)(!1),[t1,t4]=(0,l.useState)(!1),[t2,t5]=(0,l.useState)(!1),[t3,t6]=(0,l.useState)(!1),[t7,t8]=(0,l.useState)(!1),[t9,re]=(0,l.useState)(""),[rt,rr]=(0,l.useState)(""),[ra,rn]=(0,l.useState)(!1),[rs,ro]=(0,l.useState)(!1),[ri,rl]=(0,l.useState)(""),[rd,rc]=(0,l.useState)(""),[ru,r_]=(0,l.useState)(!1),[rp,rg]=(0,l.useState)(""),[rh,rm]=(0,l.useState)(!1),rb=e=>{(0,c.E)({rewardsAccountNo:"",custLookupRewardsLinkingId:e.custLookupRewardsLinkingId},ta)};(0,l.useEffect)(()=>{tX&&"password"===tk&&(t0(!1),tP("password"))},[tX,tk,tP]),(0,l.useEffect)(()=>{if(tI){if(g)try{var e,t;console.log("MobileAppStart3"),null==(t=eP().ReactNativeWebView)||null==(e=t.postMessage)||e.call(t,"signInSuccess"),console.log("MobileAppWebViewPost3"),window.location.href=ec.C.checkRewardAccount,console.log("MobileAppRoute3");return}catch(e){console.log("MobileAppError3",e)}e0.s.setItem("signInAlertDisabled","false");let r=(0,el.sq)(["redirect_url"]).get("redirect_url");if(r&&"string"==typeof r&&!r.includes(ef.route))ef.push(eI||rS.includes(r)?r:ec.C.checkRewardAccount);else{if("/checkout"===ef.route)return;ef.reload()}eQ.L.setItem("customLinkNameLoginMethod","OTPFlow"===tk||"signInOrCreateNewPW"===tk&&"sign_in"===tj?"OTP":"Password")}},[tI]),(0,l.useEffect)(()=>{tX&&"password"===tk&&(t0(!1),tP("password"))},[tX,tk,tP]);let{mutate:rx}=(0,_.L)({onSuccess:async(e,t)=>{let{password:r}=t,a=(0,el.sq)(["redirect_url"]).get("redirect_url");if((0,e2.F)(),rj({username:e.email,password:r,redirectTo:null!=a?a:ec.C.blankURL}),g)try{var n,s;console.log("MobileAppStart2"),null==(s=eP().ReactNativeWebView)||null==(n=s.postMessage)||n.call(s,"signInSuccess"),console.log("MobileAppWebViewPost2");return}catch(e){console.log("MobileAppError2",e)}if(x){eQ.L.setItem("delaySignInSnackBar","abort"),E&&E();return}if(await tR(),a&&"string"==typeof a&&!a.includes(ef.route))ef.push(eI||rS.includes(a)?a:ec.C.checkRewardAccount),eQ.L.setItem("loggedInFrom","resetPassword"),eQ.L.setItem("customLinkNameLoginMethod","OneTime Code Success");else{if("/checkout"===ef.route)return;ef.reload()}}}),{mutate:rw,error:rf}=(0,es.A)({onSuccess:e=>{let{ecommerceAccountExistsFlag:t,inStoreEnrollmentFlag:r,rewardsAccountExistsFlag:a,passwordExistsFlag:n,standaloneAccountFlag:s}=e,o=a&&r&&!n&&t&&!s;!a&&!r&&n&&t&&s?rr("Standalone Online"):a&&!r&&n&&t&&!s?rr("Online + Rewards"):o?rr("Auto-Created"):a||r||n||t||s?!a||r||n||t||s?a&&r&&n&&t&&!s&&rr("In-Store"):rr("Standalone Rewards"):rr("No Account"),n&&!o?(t6(!1),tP("password")):o?(t8(!0),tP("autoCreatedOnlineAccount"),ar({login:rD,password:"tempCustomerPW"})):(tP("manualCreateAccount"),tT("initial")),t6(!1)},onError:e=>{let t=(0,eu.u)(e);t&&(re(t),t5(!0),tZ(!1)),t===ed.gQ&&tw(!0)}}),rS=[ec.C.cart,ec.C.checkout],{mutate:rj,error:rE}=(0,eo.h)({onSuccess:()=>{if(r0(),tH&&t1&&"/checkout"!==ef.route)tP("signInOrCreateNewPW");else{if(g)try{var e,t;console.log("MobileAppStart1"),null==(t=eP().ReactNativeWebView)||null==(e=t.postMessage)||e.call(t,"signInSuccess"),console.log("MobileAppWebViewPost1"),window.location.href=ec.C.checkRewardAccount,console.log("MobileAppRoute1");return}catch(e){console.log("MobileAppError1",e)}if(x&&"/checkout"!==ef.route&&E&&E(),e0.s.setItem("signInAlertDisabled","false"),eQ.L.setItem("customLinkNameLoginMethod","OTPFlow"===tk?"OTP":"Password"),x&&"/cart"!==ef.route&&"/checkout"!==ef.route)return;let r=(0,el.sq)(["redirect_url"]).get("redirect_url");if(r&&"string"==typeof r&&!r.includes(ef.route))ef.push(eI||rS.includes(r)?r:ec.C.checkRewardAccount);else{if("/checkout"===ef.route)return void tP("login");ef.reload()}}},onError:e=>{tZ(!1),t5(!0);let t=(0,eu.u)(e);if("OTPFlow"===tk&&"INVALID_CREDENTIALS"===t&&(rc("Please enter a valid code."),tC(!0)),rd||!rd&&"INVALID_CREDENTIALS"!==t);else{t===ed.gQ&&tw(!0);let e={loginFlow:rt,loginMethod:rU,pageName:"az:signIn",pageType:"signIn",siteSection:"myzone"};I(e,(0,V.O)(e,void 0))}}}),{mutate:rI,error:ry,data:rv}=(0,ei.G)({onSuccess:()=>{tQ(!0),(0,z.g)({eventType:"forgotPasswordLogin"}),tP("resetPasswordEmailSent")},onError:()=>{tQ(!1)}}),rC=null==rv?void 0:rv.email,rR=(0,H.k)({}),rP=(0,eO.S)({}),{control:rk,formState:rA,getValues:rO,setValue:rT,trigger:rM,setError:rL,clearErrors:rN,reset:rB}=(0,d.mN)({defaultValues:{login:"",password:"",googleRecaptchaToken:"",rememberMe:!0,otpCode:""},mode:"all"}),{login:rD,password:rF,otpCode:rz}=rO(),{errors:rW,isDirty:rV}=rA,rU=rD.includes("@")?"Email":"Username",rH={loginFlow:rt,loginMethod:rU,pageName:"az:signIn",pageType:"signIn",siteSection:"signIn",pageHierarchy:"signIn"};(0,l.useEffect)(()=>{if((0,el.TV)("loginFlow",rt),(0,el.TV)("loginMethod",rU),y){let e=(0,V.O)(rH,W.x);switch(tk){case"autoCreatedOnlineAccount":case"password":I(rH,e);break;case"OTPFlow":I((0,o._)((0,s._)({},rH),{eventType:"oneTimeCodeAttempt"}),e);break;case"forgotPassword":I((0,o._)((0,s._)({},rH),{eventType:"forgotPassword"}),e)}}},[y,tk]);let rG=(e,t)=>t in e?e[t]:t;function rJ(e){return(null==e?void 0:e.type)==="minLength"||(null==e?void 0:e.type)==="required"?T.invalidPassword:null==e?void 0:e.message}let rq="password"===tk,rY=e8?"primary":"secondary",rK=null!=(p=null!=(r=null!=(t=(0,eu.u)(rf))?t:(0,eu.u)(rE))?r:(0,eu.u)(ry))?p:(0,eu.u)(rp),rZ=rK&&"autoCreatedOnlineAccount"!==tk?rG(T,rK):"",r$=(0,l.useCallback)(()=>{ey((0,u.kG)(!1))},[ey]),rQ=()=>{tb(!1)},rX=()=>{let e="manualCreateAccount"===tk||"rewardsEnterId"===tk;return"INVALID_CREDENTIALS"!==rK&&"FORGOT_FORCE_PASSWORD_CHANGE"!==rK&&"ACCOUNT_LOCKED_TOO_MANY_ATTEMPTS"!==rK||e?T.GENERIC_SERVER_ERROR_REFRESH:(0,i.jsx)("span",{children:(0,i.jsxs)(J.E,{variant:"small-body",children:[rZ,(0,i.jsx)(q.t,{onClick:r3,children:(0,i.jsx)(J.E,{attributes:{style:{paddingLeft:"4px"}},variant:"text-link",weight:"bold",decoration:"underline",children:"ACCOUNT_LOCKED_TOO_MANY_ATTEMPTS"===rK?T.RESETTING_PASSWORD:T.RESET_PASSWORD})})]})})},r0=(0,l.useCallback)(()=>{tA(!1),ro(!1),rc(""),rg(""),a_(null),tb(!1),re(""),r$(),rl(""),rQ()},[r$,tA]);(0,l.useEffect)(()=>{tO||r0()},[tO]);let r1=!!(null==eS?void 0:eS.loyaltyAccount)||!!(null==eC?void 0:eC.rewardsAccountNo)||!!(null==eC?void 0:eC.custLookupRewardsLinkingId);(0,l.useEffect)(()=>{"login"===tk&&rB()},[tk,rB]),(0,l.useEffect)(()=>{void 0!==S&&S!==tk&&(tP(S),t0(!1),null==j||j())},[S]),(0,l.useEffect)(()=>{t5("password"===tk&&(!rF||!!rW.password)||"OTPFlow"===tk&&(!rz||!!rW.otpCode)||"login"===tk&&!rV||"autoCreatedOnlineAccount"===tk&&t7||!!rW.login||tF)},[t7,rW.login,rW.otpCode,rW.password,tk,rV,rz,rF,tF]),(0,l.useEffect)(()=>{r1&&(null==eC?void 0:eC.rewardsAccountNo)&&(tT("loggedIn"),tl(eC.rewardsAccountNo))},[r1,eC]),(0,l.useEffect)(()=>{th(!!("enterId"===tM&&!e9)),"enterId"===tM&&"login"!==tk&&tP("rewardsEnterId")},[tM,e9,tP,tk]),(0,l.useEffect)(()=>{tb(!!rZ);let e="cart"===m?"az:cart:full-cart":"az:".concat(null!=m?m:"");if(rE)if(rK===ed.gQ)(0,z.g)({customLinkName:"Login:Complete Account Popup",pageName:"az:signIn",pageType:"signIn",siteSection:"signIn"});else{let t="OTPFlow"===tk;(0,z.g)({eventType:"signInFailure",errorMsgType:"Sign In Failure",errorMsg:rZ,errorCode:(0,e_.E)(rE),CustomLinkName:"Sign In Failure".concat(t?" OTP":""),pageName:e,pageType:m,pageURL:window.parent.location.href,siteSection:"myzone",loginMethod:rU,loginFlow:rt})}},[rZ,rO,rK,rB,rf,m,rU,rE,rt,tk]),(0,l.useEffect)(()=>{if(ey((0,u.AV)(b)),ey((0,u.GT)(b)),!x)return()=>{ey((0,u.AV)(!0)),ey((0,u.GT)(!0))}},[ey,b,x]);let r4=tm&&!!rZ&&rZ!==ed.gQ&&!t3&&"login"!==tk,r2=e=>(tZ(!0),ab({loginId:rD,googleRecaptchaToken:e})),r5=()=>{r0(),t0(!1),t4(!1),tT("initial"),tP("login"),rB()},r3=()=>{tP("forgotPassword"),tb(!1),tH?t4(!0):t0(!0)},r6=()=>{tZ(!0);let{login:e,password:t,otpCode:r}=rO();if("password"===tk){var a;null==(a=eV.current)||a.blur()}switch(r0(),tk){case"login":r$(),tl(""),to(""),rm(!1),at({login:e,googleRecaptchaToken:""}),re("");break;case"autoCreatedOnlineAccount":default:at({login:e,googleRecaptchaToken:""});break;case"OTPFlow":"forgotPassword"===tB&&x&&ef.asPath!==ec.C.checkout&&eQ.L.setItem("delaySignInSnackBar","true"),aa({login:e,otpCode:r});break;case"password":ar({login:e,password:t});break;case"forgotPassword":case"resetPasswordEmailSent":ae({login:e,googleRecaptchaToken:""})}},r7=(e,t,r)=>{let o=(0,a._)({},(0,n._)(e)),{rememberMe:i}=rO(),l=(0,el.sq)(["redirect_url"]);return(0,s._)({refetch:!tH||!t1,remember_me:i?"on":"off",redirectTo:null!=t?t:l.get("redirect_url")},{username:o.username,password:o.password,otpCode:o.otpCode},r&&{googleRecaptchaToken:r})},r8=(e,t)=>{let r=(0,a._)({},(0,n._)(e));return(0,s._)({},r,t&&{googleRecaptchaToken:t})},r9=(e,t)=>{let{login:r}=(0,a._)({},(0,n._)(e)),o=(0,s._)({email:r},t&&{googleRecaptchaToken:t});return(0,s._)({},o,tW&&{googleRecaptchaToken:t})},ae=e=>{if(tG){var t,r;if(!(null==(t=ez.current)?void 0:t.scriptLoadError))return null==(r=ez.current)?void 0:r.requestRecaptchaVerification();tS(!0)}tS(!1),rI(r9(e))},at=e=>{if(tV){var t,r;if(!(null==(t=eN.current)?void 0:t.scriptLoadError))return null==(r=eN.current)?void 0:r.requestRecaptchaVerification();rB(),tS(!0)}tS(!1),rw(r8(e))},ar=e=>{let t={username:e.login,password:e.password};if(r$(),tW){var r,a;return(null==(r=eB.current)?void 0:r.scriptLoadError)?(rB(),tS(!0)):null==(a=eB.current)?void 0:a.requestRecaptchaVerification()}tS(!1),rj(r7(t,h))},aa=e=>{let t={username:e.login,otpCode:e.otpCode};if(r$(),tW){var r,a;return(null==(r=eU.current)?void 0:r.scriptLoadError)?(rB(),tS(!0)):null==(a=eU.current)?void 0:a.requestRecaptchaVerification()}tS(!1),rj(r7(t,h))},an=(0,i.jsxs)(C.S,{direction:"row",align:"center",children:[(0,i.jsx)(C.S.Item,{attributes:{id:"forgotPasswordUsernameID"},children:(0,i.jsx)(J.E,{variant:"main-body",children:rD||tL})}),(0,i.jsx)(K.j,{hide:"OTPFlow"===tk&&"forgotPassword"===tB,children:(0,i.jsx)(C.S.Item,{gapBefore:2,attributes:{id:"changeEmail".concat(tk,"Button"),"aria-label":"change Email ".concat(tk)},children:(0,i.jsx)(J.E,{variant:"text-link",children:(0,i.jsx)(q.t,{onClick:r5,attributes:{style:{textDecoration:"underline",fontWeight:"500"}},children:T.label_MyAccountAddService_form_Change})})})})]}),as=(0,i.jsxs)(C.S,{children:[(0,i.jsxs)(C.S,{direction:"row",align:"center",attributes:{style:{marginBottom:"16px"}},children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(J.E,{variant:"large-body",weight:"bold",className:eg().adjustStarcMainBody,attributes:{id:"userEmailLoginScreenID"},children:rD||tL})}),(0,i.jsx)(C.S.Item,{gapBefore:2,attributes:{id:"changeEmail".concat(tk,"Button"),"aria-label":"change Email ".concat(tk)},children:(0,i.jsx)(q.t,{attributes:{style:{textDecoration:"underline",fontWeight:"500",fontSize:e9?"12px":"14px"}},onClick:r5,children:T.label_MyAccountAddService_form_Change})})]}),(0,i.jsx)(C.S.Item,{attributes:{id:"enterPasswordForLoginMsgID"},children:(0,i.jsx)(L.J,{label:"label_please_enter_the_pw"})})]}),ao=x&&!e8?(0,i.jsx)(L.J,{label:"label_enter_your_email_or_signup"}):(0,i.jsx)(L.J,{label:"label_enter_your_email_or_username"}),ai=(0,i.jsxs)(C.S,{children:[(0,i.jsxs)(C.S,{direction:"row",align:"center",children:[(0,i.jsx)(C.S.Item,{attributes:{id:"forgotPasswordUsernameID"},children:(0,i.jsx)(J.E,{variant:"large-body",weight:"bold",children:rD||tL})}),(0,i.jsx)(C.S.Item,{gapBefore:2,attributes:{id:"changeEmail".concat(tk,"Button"),"aria-label":"change Email ".concat(tk)},children:(0,i.jsx)(q.t,{attributes:{style:{textDecoration:"underline",fontWeight:"500"}},onClick:r5,children:T.label_MyAccountAddService_form_Change})})]}),(0,i.jsxs)(C.S,{direction:"column",children:[(0,i.jsx)(C.S.Item,{gapBefore:4,attributes:{id:"emailWillBeSentForgotPwScreenID1"},children:(0,i.jsx)(L.J,{label:"label_an_email_will_be_sent"})}),(r4||tf)&&!tz&&(0,i.jsx)(C.S,{padding:[5,0,1,0],attributes:{id:"sign-in-page-error"},children:(0,i.jsx)(Y.E,{text:tf?T.label_create_account_error_RecaptchaScriptLoadError:rX(),type:"error",hasCloseButton:!!rZ,onClose:rQ})})]})]}),al=(0,i.jsxs)(C.S,{children:[(0,i.jsxs)(C.S,{direction:"row",align:"center",children:[(0,i.jsx)(C.S.Item,{attributes:{id:"forgotPasswordUsernameID"},children:(0,i.jsx)(J.E,{variant:"main-body",children:rD||tL})}),(0,i.jsx)(C.S.Item,{gapBefore:2,attributes:{id:"changeEmail".concat(tk,"Button"),"aria-label":"change Email ".concat(tk)},children:(0,i.jsx)(J.E,{variant:"text-link",children:(0,i.jsx)(q.t,{attributes:{style:{textDecoration:"underline",fontWeight:"500"}},onClick:r5,children:T.label_MyAccountAddService_form_Change})})})]}),(0,i.jsxs)(C.S,{direction:"column",children:[(0,i.jsx)(C.S.Item,{gapBefore:4,attributes:{id:"emailWillBeSentForgotPwScreenIDSendOrResetPassword"},children:(0,i.jsx)(J.E,{variant:"main-body",children:(0,i.jsx)(L.J,{label:"label_send_code_or_reset_password"})})}),(0,i.jsxs)(C.S,{direction:"row",align:"center",padding:[5,0,0,0],children:[(0,i.jsx)(C.S.Item,{attributes:{id:"forgotPasswordUsernameID"},children:(0,i.jsx)(J.E,{variant:"main-body",children:(0,i.jsx)(L.J,{label:"label_email_code_to"})})}),(0,i.jsx)(C.S.Item,{gapBefore:2,attributes:{id:"enterPassword".concat(tk,"Button"),"aria-label":"enter password ".concat(tk)},children:(0,i.jsx)(J.E,{variant:"large-body",weight:"bold",attributes:{style:{fontSize:e8?"14px":"16px",whiteSpace:"nowrap"},id:"userEmailCreateScreenIDEmailCodeTo"},children:rD||tL})})]}),(r4||tf)&&!tz&&(0,i.jsx)(C.S,{padding:[5,0,1,0],attributes:{id:"sign-in-page-error"},children:(0,i.jsx)(Y.E,{text:tf?T.label_create_account_error_RecaptchaScriptLoadError:rX(),type:"error",hasCloseButton:!!rZ,onClose:rQ})})]})]}),ad=(0,i.jsxs)(C.S,{direction:"column",children:[(0,i.jsx)(C.S.Item,{gapBefore:{s:3,m:x?4:1,l:1},children:an}),(0,i.jsx)(C.S.Item,{gapBefore:4,attributes:{id:"otpText"},children:(0,i.jsx)(J.E,{variant:"main-body",children:(0,i.jsx)(L.J,{label:T.label_enter_password_or_one_time_verification_code})})})]}),ac=(0,i.jsx)(C.S,{direction:"column",children:(0,i.jsxs)(C.S.Item,{gapBefore:{s:3,m:1},children:[an,(0,i.jsx)(C.S,{direction:"column",children:(0,i.jsx)(C.S.Item,{gapBefore:4,attributes:{id:"otpEntryText"},children:(0,i.jsx)(J.E,{variant:"main-body",children:(0,i.jsx)(L.J,{label:"forgotPassword"===tB?T.label_enter_one_time_verification_code_forgotPassword:T.label_enter_one_time_verification_code_to_sign_in})})})})]})}),[au,a_]=(0,l.useState)(null);(0,l.useEffect)(()=>{"signInOrCreateNewPW"===tk&&tZ(!1)},[tk]),(0,l.useEffect)(()=>{let e=eV.current;function t(){(null==e?void 0:e.value)&&"password"===tk&&t5(!1)}return null==e||e.addEventListener("change",t),()=>null==e?void 0:e.removeEventListener("change",t)},[A,tk,rF]),(0,l.useEffect)(()=>{let e=A===e6.current,t=A===e7.current,r=document.querySelector("body"),a=()=>{tK&&!e&&!t&&(tJ||tW)&&tZ(!1)};return null==r||r.addEventListener("click",a),()=>{null==r||r.removeEventListener("click",a)}},[A,tW,tJ,tK]),(0,l.useEffect)(()=>{"autoCreatedOnlineAccount"!==tk||t7||(tP("login"),tZ(!1))},[t7,tk,tP]),(0,l.useEffect)(()=>{rn(!1),t5(!0),rN(),r0(),("password"===tk||"manualCreateAccount"===tk)&&(tZ(!1),tb(!1))},[tk]);let ap=("manualCreateAccount"===tk||"rewardsEnterId"===tk)&&("initial"===tM||"enterId"===tM&&!e9),ag=e9&&"rewardsEnterId"===tk&&x,ah=()=>{if(!tH&&"forgotPassword"===tk)return!0;switch(tk){case"resetPasswordEmailSent":if(x&&!e8)return!1;case"rewardsEnterId":if(x&&!e9)return!1;return!0;default:return!x}},am=()=>{"OTPFlow"==tk&&(rl("Resend Code"),ro(!0)),tP("OTPFlow"),tZ(!1)},{mutateAsync:ab}=(0,eK.m)({onSuccess:()=>{am(),tZ(!1)},onError:e=>{var t;tZ(!1),t5(!0),rg(null!=(t=(0,eu.u)(e))?t:"")}}),ax=()=>{r0(),tP("password")},aw=(0,l.useCallback)(async()=>{if(t6(!0),r0(),rT("otpCode",""),tW){var e,t;if(!(null==(e=eF.current)?void 0:e.scriptLoadError))return null==(t=eF.current)?void 0:t.requestRecaptchaVerification();rB(),t6(!1),tS(!0)}tS(!1),rr("Online + Rewards"),await ab({loginId:tL}).then(()=>{"chooseSignInMethod"!==tk&&(0,z.g)({eventType:"resendOneTimeCode",pageName:"az:signIn",pageType:"signIn",siteSection:"signIn",loginFlow:rt}),t6(!1)})},[r0,rT,tW,ab,tL,rB,tk,rt]),af=(0,l.useCallback)(async()=>{await ab({loginId:tL}).then(()=>{"chooseSignInMethod"!==tk&&"forgotPassword"!==tk&&(0,z.g)({eventType:"resendOneTimeCode",pageName:"az:signIn",pageType:"signIn",siteSection:"signIn",loginFlow:rt})})},[ab,tL,tk,rt]),aS=(0,l.useCallback)(async()=>{if(r0(),rT("otpCode",""),tZ(!0),tJ){var e,t;if(!(null==(e=eD.current)?void 0:e.scriptLoadError))return null==(t=eD.current)?void 0:t.requestRecaptchaVerification();rB(),tS(!0)}tS(!1),"Standalone Online"!==rt&&"In-Store"!==rt&&rr("Online + Rewards"),await af()},[r0,rT,tJ,rt,af,rB]),aj=()=>{r0(),tP("password"),t0(!1),t4(!1)},aE="OTPFlow"===tk?e8?3:4:void 0;return(0,i.jsx)(C.S,{direction:"row",justify:"center",children:(0,i.jsxs)(C.S,{padding:{s:x?5:[0,5],m:ag?[4,0,0,0]:0,l:0},width:{m:x&&!ag?"":"430px",l:x?"100%":"347px"},direction:"column",children:[(0,i.jsx)(ew.A,{showSubHeader:te&&"signInOrCreateNewPW"===tk||"rewardsEnterId"!==tk||!e9,showLogo:ah(),passwordSection:rq,resetEmailSent:tF,passWordSectionText:tz?ad:as,userNameSectionText:(()=>{switch(tk){case"manualCreateAccount":return(0,i.jsx)(L.J,{label:"label_streamline_signin_create_new_account"});case"rewardsEnterId":return(0,i.jsx)(L.J,{label:"label_streamline_signin_join_look_up_rewards_id"});case"signInOrCreateNewPW":return tL;default:return ao}})(),forgotPasswordText:ai,forgotPasswordV2Text:al,oneTimePasswordText:ad,oneTimePasswordEntryText:ac,showForgotPwdUI:tX,showForgotPwdV2UI:t1,subHeaderText:(()=>{switch(tk){case"password":if(!tz)return(0,i.jsx)(L.J,{label:"label_MyAccountLanding_Rewards_WelcomeBack"});case"chooseSignInMethod":return(0,i.jsx)(L.J,{label:"label_choose_signin_option"});case"OTPFlow":return"forgotPassword"===tB?(0,i.jsx)(L.J,{label:"label_forgot_password_capitalized"}):(0,i.jsx)(L.J,{label:"label_MyAccountLanding_Rewards_WelcomeBack"});case"forgotPassword":case"resetPasswordEmailSent":return(0,i.jsx)(L.J,{label:"label_forgot_password_capitalized"});case"signInOrCreateNewPW":return"sign_in"===tj?(0,i.jsx)(L.J,{label:"label_forgot_password_capitalized"}):(0,i.jsx)(L.J,{label:"mf_resetpwdpage_resetpassword"});case"manualCreateAccount":return(0,i.jsx)(L.J,{label:"label_streamline_signin_create_rewards_account"});case"rewardsEnterId":return e9?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(C.S,{attributes:{style:{whiteSpace:"nowrap"}},children:(0,i.jsx)(L.J,{label:"label_streamline_signin_join_az_rewards"})});default:return(0,i.jsx)(L.J,{label:"label_MyAccountLanding_Rewards_Welcome"})}})(),isMobileApp:g,isModal:x,globalNotification:(()=>{let e=(r4||tf||!!t9||rs&&!g)&&!rd&&tz;tA(e);let t=(0,eu.u)(rf,!0);""!==ri&&(t=ri);let r=()=>r4||au?rQ():!tX&&(t9||tf)?re(""):rs?(rl(""),ro(!1)):void 0,a=!!rZ||!tX&&rs&&!g;return tz&&e?(0,i.jsx)(C.S,{padding:[5*!!ah(),0,5*!ah(),0],attributes:{id:"sign-in-page-error"},children:(0,i.jsx)(Y.E,{title:(()=>{switch(t){case"Request a New Code":return"Request a New Code";case"Resend Code":return"Resend Code";default:return""}})(),text:function(){if(tf)return T.label_create_account_error_RecaptchaScriptLoadError;if(!rf&&ri)return"A new code has been sent to the email address associated with your account.";let e=(0,eu.u)(rf);return"INVALID_PERSON"===e?rG(T,e):rX()}(),type:(()=>{let e=!!rf||!!rd;return rs&&!e?"success":"error"})(),hasCloseButton:a,onClose:()=>r()})}):null})(),resetPWOption:tj}),tX&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ej,{ref:e6,disabled:!1,size:"large",onClick:()=>{r6(),tZ(!0)},text:(0,i.jsx)(L.J,{label:"lable_continue_capitalized"}),id:"continueButtonForForgotPWID"}),tG&&("forgotPassword"===tk||"resetPasswordEmailSent"===tk)&&(0,i.jsx)(C.S.Item,{gapBefore:4,children:(0,i.jsx)(eb.n,{id:"forgotPWCTA",ref:ez,captchaVerifyCallback:e=>{let{login:t}=rO();return rI(r9({login:t,googleRecaptchaToken:e},e))},className:eg().captchaClass})})]}),ap&&(0,i.jsx)(C.S,{attributes:{"aria-label":"Optional: Lookup Rewards ID",style:{margin:e8?"0 -20px":""}},children:(0,i.jsx)(eT.A,{title:"Lookup Rewards ID",theme:"grey",expandIcon:(0,i.jsx)(X.I,{svg:en.A}),summary:(0,i.jsx)(C.S,{children:(0,i.jsx)(J.E,{children:T.label_optional_lookup})}),content:(0,i.jsxs)(C.S,{direction:"row",align:"center",attributes:{style:{margin:e8?"16px 20px":"16px"}},children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(C.S,{children:(0,i.jsx)(J.E,{attributes:{style:{position:"relative",bottom:"20px"}},children:T.label_did_you_sign_up})})}),(0,i.jsxs)(C.S,{direction:"row",width:"100%",children:[(0,i.jsx)(C.S.Item,{columns:6,children:(0,i.jsx)(R.$,{variant:"primary",size:"large",attributes:{style:{minWidth:"130px",minHeight:"52px",whiteSpace:"nowrap"}},onClick:()=>tp(!0),className:M()(eg().checkoutRewardsOptionButton,eg().checkoutRewardsLookupButton),children:T.label_rewards_find_my_id})}),(0,i.jsx)(C.S.Item,{columns:6,gapBefore:4,children:(0,i.jsx)(R.$,{variant:"secondary",size:"large",attributes:{style:{minWidth:"130px",minHeight:"52px",whiteSpace:"nowrap"}},onClick:()=>tT("enterId"),className:eg().checkoutRewardsOptionButton,children:T.label_rewards_enter_my_id})})]})]})})}),"manualCreateAccount"===tk&&"loggedIn"===tM&&(0,i.jsx)(C.S,{attributes:{style:{marginTop:"0px"}},children:(0,i.jsxs)(J.E,{variant:"main-body",weight:"bold",children:["Rewards ID: ",ts||ti]})}),!tX&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(C.S.Item,{children:[(r4||tf)&&!tz&&(0,i.jsx)(C.S,{attributes:{id:"sign-in-page-error"},children:(0,i.jsx)(Y.E,{text:tf?T.label_create_account_error_RecaptchaScriptLoadError:rX(),type:"error",hasCloseButton:!!rZ,onClose:rQ})}),!["manualCreateAccount","forgotPassword"].includes(tk)&&(0,i.jsx)(C.S,{padding:["rewardsEnterId"===tk?0:tz&&("chooseSignInMethod"===tk||"password"===tk)?tt?4:5:"OTPFlow"===tk&&tt?4:5,0,0,0],children:(0,i.jsx)("form",{onKeyDown:e=>{var t,r,a;let n=!(null!=(a=null==(t=e7.current)?void 0:t.disabled)?a:null==(r=e6.current)?void 0:r.disabled);"Enter"===e.key&&(e.preventDefault(),n&&!t2&&r6())},method:"post",children:(()=>{switch(tk){case"login":return(0,i.jsx)(d.xI,{name:"login",control:rk,rules:{required:!0,minLength:4,maxLength:40,validate:e=>eE.Tm.test(e)||eE.HF.test(e)},render:e=>{let{field:{onChange:t,value:r,name:a}}=e;return(0,i.jsxs)(Z.M,{hasError:!!rW.login,children:[(t9||tf)&&!tz&&(0,i.jsx)(C.S,{padding:[0,0,5,0],attributes:{id:"sign-in-page-error"},children:(0,i.jsx)(Y.E,{text:tf?T.label_create_account_error_RecaptchaScriptLoadError:rX(),type:"error",hasCloseButton:!!rZ,onClose:()=>re("")})}),(0,i.jsx)(C.S,{attributes:{id:"signInLoginFieldID"},children:(0,i.jsx)($.A,{attributes:{onBlur:()=>{rM("login")},style:{height:e9?"56px":"52px"}},inputAttributes:{maxLength:40},className:eg().adjustFieldStyleForViewport,inputClassName:eg().adjustInputStyleForViewport,name:a,required:!0,inputMode:"email",label:T.emailOrUsername,onChange:e=>{let r=e.target.value,a=eE.Tm.test(r)||eE.HF.test(r);rT("login",r),tN(r),t5(r.length<4||!a),r.length<=40?t(e):rL("login",{message:"labels_Email_Max_Validation"})},value:r})}),(0,i.jsx)(C.S,{attributes:{id:"signInLoginFieldErrorID"},children:(0,i.jsx)(Z.M.Error,{children:(0,i.jsx)(L.J,{label:function(e){if(null==e?void 0:e.message)return e.message;let t="error_Common_Validation_InvalidEmailOrUsername";return(null==e?void 0:e.type)==="maxLength"&&(t="labels_Email_Max_Validation"),t}(rW.login)})})})]})}});case"OTPFlow":return(0,i.jsx)(d.xI,{name:"otpCode",control:rk,rules:{required:!0,minLength:6,maxLength:6,validate:e=>eE.VP.test(e)},render:e=>{var t;let{field:{onChange:r,value:a,name:n}}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Z.M,{hasError:!!(null!=(t=rW.otpCode&&ru)?t:rd),children:(0,i.jsxs)(C.S,{direction:"column",children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(C.S,{attributes:{id:"OTPSignInFieldID"},children:(0,i.jsx)($.A,{type:"number",attributes:{onBlur:()=>{rW.otpCode&&rM("otpCode"),r_(!0)},onKeyDown:e=>{e.key.match(/^\d$/)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(e.key)||e.metaKey&&"v"===e.key||e.ctrlKey&&"v"===e.key||e.preventDefault()},onPaste:e=>{let t=e.clipboardData.getData("text");/^\d+$/.test(t)||e.preventDefault()}},inputClassName:eg().adjustOTPInputStyleForViewport,name:n,required:!0,inputMode:"numeric",label:T.label_verification_code,onChange:e=>{r_(!1),tv&&r0(),rN();let t=e.target.value;t.length<=6&&(rT("otpCode",t),t5(t.length<6),r(e)),t.length>6?e.target.value=t.slice(0,6):rL("otpCode",{message:T.label_otp_code_must_be_six_digits})},value:a})})}),(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(C.S,{attributes:{id:"signInLoginFieldErrorID"},children:(0,i.jsx)(Z.M.Error,{children:(0,i.jsx)(L.J,{label:rW.otpCode?T.label_otp_code_must_be_six_digits:rd})})})}),(0,i.jsx)(C.S.Item,{gapBefore:{s:3,m:4,l:4},children:(0,i.jsx)(d.xI,{name:"rememberMe",control:rk,render:e=>{let{field:{onChange:t,value:r,name:a}}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(C.S,{direction:"row",align:"center",justify:"space-between",children:[!g&&(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(eZ.y,{name:a,value:r,onChange:t,tooltip:{headerText:T.label_login_messages_REMEMBER_ME_TOOLTIP_TITLE,bodyText:T.label_login_messages_REMEMBER_ME_TOOLTIP_BODY,pixelDimensions:e8?24:27}})}),(0,i.jsx)(C.S.Item,{attributes:{id:"forgotPasswordLinkID"},children:(0,i.jsx)(q.t,{onClick:aw,children:(0,i.jsx)(J.E,{variant:"text-link",attributes:{style:{textDecoration:"underline"}},"data-testid":"forgot-pwd-button",children:T.label_resend_code})})})]})})}})})]})})})}});case"password":case"resetPasswordEmailSent":return tz?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(C.S,{direction:"column",attributes:{style:{marginBottom:tt?"4px":"8px"}},children:[(0,i.jsx)(Q.s,{"aria-roledescription":"selected radio button",label:T.label_email_me_a_code,name:"email_code",value:"email_code",checked:!1,onChange:()=>{r0(),tP("chooseSignInMethod")}},"sign-in-with-otp-btn"),(0,i.jsx)(C.S,{attributes:{style:{marginTop:tt?"12px":"8px"}},children:(0,i.jsx)(Q.s,{"aria-roledescription":"selected radio button",label:T.label_enter_my_password,name:"email_code",value:"email_code",checked:!0,onChange:ax},"sign-in-with-otp-btn")})]}),(0,i.jsx)(d.xI,{name:"password",control:rk,rules:{required:!0,minLength:6,maxLength:30},render:e=>{let{field:{onChange:t,name:r,value:a}}=e;return(0,i.jsxs)(C.S,{direction:"column",children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsxs)(Z.M,{hasError:!!rW.password,children:[(0,i.jsx)($.A,{ref:eV,required:!0,attributes:{onBlur:()=>{rM("password")},onFocus:()=>{rF.length>0&&t5(!1)},style:{paddingRight:"11px",height:e9?"56px":"52px"}},value:ra?a:"",id:"password",name:r,label:T.password,onChange:e=>{rn(!0),(e.target.value.length<6||e.target.value.length<=30)&&t(e)},type:tq?"text":"password",endElement:(0,i.jsxs)(q.t,{attributes:{style:{width:"fit-content",display:"flex",alignItems:"center",flexDirection:"column",paddingLeft:"16px"},id:tq?"hide-password-btn":"show-password-btn"},"aria-label":tq?T.hidePassword:T.showPassword,type:"button","data-testid":"toggle-password",onClick:()=>{tY(e=>!e)},children:[(0,i.jsx)(X.I,{attributes:{style:{color:"#949494"}},svg:tq?er.A:ea.A,size:6}),(0,i.jsx)(J.E,{color:"500",variant:"subtitle-regular",attributes:{style:{fontSize:"12px",lineHeight:"12px"}},children:g?null:tq?T.hide:T.show})]})}),(0,i.jsx)(C.S,{attributes:{id:"passwordErrorSignInBodyID"},children:(0,i.jsx)(Z.M.Error,{children:rJ(rW.password)})})]})}),g?(0,i.jsx)(C.S.Item,{gapBefore:3,children:(0,i.jsx)(C.S,{direction:"row",align:"center",justify:"space-between",children:(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(q.t,{onClick:r3,children:(0,i.jsx)(J.E,{color:"500",variant:"text-link",attributes:{style:{textDecoration:"underline"}},className:eg().adjustForgotPasswordFontSize,"data-testid":"forgot-pwd-button",children:T.forgotPassword})})})})}):(0,i.jsx)(C.S.Item,{gapBefore:3,children:(0,i.jsx)(d.xI,{name:"rememberMe",control:rk,render:e=>{let{field:{onChange:t,value:r,name:a}}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(C.S,{direction:"row",align:"center",justify:"space-between",children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(eZ.y,{name:a,value:r,onChange:t,tooltip:{headerText:T.label_login_messages_REMEMBER_ME_TOOLTIP_TITLE,bodyText:T.label_login_messages_REMEMBER_ME_TOOLTIP_BODY,pixelDimensions:e8?24:27}})}),(0,i.jsx)(C.S.Item,{attributes:{id:"forgotPasswordLinkID"},children:(0,i.jsx)(q.t,{onClick:r3,children:(0,i.jsx)(J.E,{color:"500",variant:"text-link",attributes:{style:{textDecoration:"underline"}},className:eg().adjustForgotPasswordFontSize,"data-testid":"forgot-pwd-button",children:T.forgotPassword})})})]})})}})})]})}})]}):(0,i.jsx)(d.xI,{name:"password",control:rk,rules:{required:!0,minLength:6,maxLength:30},render:e=>{let{field:{onChange:t,name:r,value:a}}=e;return(0,i.jsxs)(C.S,{direction:"column",children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsxs)(Z.M,{hasError:!!rW.password,children:[(0,i.jsx)($.A,{ref:eV,required:!0,attributes:{onBlur:()=>{rM("password")},onFocus:()=>{rF.length>0&&t5(!1)},style:{paddingRight:"11px",height:e9?"56px":"52px"}},value:ra?a:"",id:"password",name:r,label:T.password,onChange:e=>{rn(!0),(e.target.value.length<6||e.target.value.length<=30)&&t(e)},type:tq?"text":"password",endElement:(0,i.jsxs)(q.t,{attributes:{style:{width:"fit-content",display:"flex",alignItems:"center",flexDirection:"column",paddingLeft:"16px"},id:tq?"hide-password-btn":"show-password-btn"},"aria-label":tq?T.hidePassword:T.showPassword,type:"button","data-testid":"toggle-password",onClick:()=>{tY(e=>!e)},children:[(0,i.jsx)(X.I,{attributes:{style:{color:"#949494"}},svg:tq?er.A:ea.A,size:6}),(0,i.jsx)(J.E,{color:"500",variant:"subtitle-regular",attributes:{style:{fontSize:"12px",lineHeight:"12px"}},children:g?null:tq?T.hide:T.show})]})}),(0,i.jsx)(C.S,{attributes:{id:"passwordErrorSignInBodyID"},children:(0,i.jsx)(Z.M.Error,{children:rJ(rW.password)})})]})}),g?(0,i.jsx)(C.S.Item,{gapBefore:3,children:(0,i.jsx)(C.S,{direction:"row",align:"center",justify:"space-between",children:(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(q.t,{onClick:r3,children:(0,i.jsx)(J.E,{color:"500",variant:"text-link",attributes:{style:{textDecoration:"underline"}},className:eg().adjustForgotPasswordFontSize,"data-testid":"forgot-pwd-button",children:T.forgotPassword})})})})}):(0,i.jsx)(C.S.Item,{gapBefore:3,children:(0,i.jsx)(d.xI,{name:"rememberMe",control:rk,render:e=>{let{field:{onChange:t,value:r,name:a}}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(C.S,{direction:"row",align:"center",justify:"space-between",children:[(0,i.jsx)(C.S.Item,{attributes:{style:{alignItems:"center",justifyContent:"center",display:"flex"}},children:(0,i.jsx)(C.S,{direction:"row",attributes:{style:{display:"flex",justifyContent:"center",alignItems:"center"}},children:(0,i.jsx)(ee.S,{name:a,checked:r,value:a,label:(0,i.jsx)("span",{id:"rememberMeLabelID",children:T.rememberMe}),onChange:e=>t(e.target.checked),className:eg().checkbox,id:"rememberMeCheckBoxID"})})}),(0,i.jsx)(C.S.Item,{attributes:{id:"forgotPasswordLinkID"},children:(0,i.jsx)(q.t,{onClick:r3,children:(0,i.jsx)(J.E,{color:"500",variant:"text-link",attributes:{style:{textDecoration:"underline"}},className:eg().adjustForgotPasswordFontSize,"data-testid":"forgot-pwd-button",children:T.forgotPassword})})})]})})}})})]})}});default:return null}})()})}),("manualCreateAccount"===tk||"rewardsEnterId"===tk&&!e9)&&(0,i.jsxs)(C.S,{children:[(0,i.jsxs)(C.S,{padding:[4,0],direction:"row",align:"center",gap:2,children:[(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(J.E,{variant:"large-body",weight:"bold",attributes:{style:{fontSize:e8?"14px":"16px"},id:"userEmailCreateScreenID"},children:rD||tL})}),(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(q.t,{attributes:{style:{display:"flex"},id:"changeEmail".concat(tk,"Button"),"aria-label":"change Email ".concat(tk)},onClick:r5,children:(0,i.jsx)(J.E,{weight:"medium",attributes:{style:{fontSize:e9?"12px":"14px",color:"#141414"}},decoration:"underline",children:T.label_MyAccountAddService_form_Change})})})]}),(0,i.jsx)(C.S,{children:(0,i.jsx)(eA.e,{isModal:x,validateRewardsAccountMutation:rR,createAccountStatus:rP.status,submitAccountForm:rP.mutate,createAccountError:rP.error,myProfile:eR,login:rD,setCaptchaError:e=>a_(e),maskedRewardsId:ts,linkedRewardsId:ti,onCloseModal:E,showError:tm,setShowError:tb})})]}),"rewardsEnterId"===tk&&!!e9&&(0,i.jsx)(C.S,{children:(0,i.jsx)(eW,{setLinkedRewardsId:e=>{tl(e),tP("manualCreateAccount")},setRewardsIdHasBeenEntered:rm,labels:ep,login:rD})})]}),!["rewardsEnterId","manualCreateAccount","chooseSignInMethod"].includes(tk)&&("forgotPassword"===tk&&tH?(0,i.jsx)(ej,{ref:e7,disabled:!1,loading:tK,size:"large",onClick:aS,text:T.label_send_code,gapBefore:e8?5:8,id:"forgotPassWordSendCodeButton"}):(0,i.jsx)(C.S.Item,{attributes:{style:{paddingBottom:tz&&"OTPFlow"===tk&&tt&&!x?"16px":""}},children:"OTPFlow"===tk&&tH&&"forgotPassword"===tB?(0,i.jsx)(ej,{ref:e7,disabled:t2,loading:tK,size:"large",onClick:r6,gapBefore:aE,text:(0,i.jsx)(L.J,{label:"lable_continue_capitalized"}),id:"continueResetPWButtonID"}):tr?null:(0,i.jsx)(ej,{ref:e7,disabled:t2,loading:tK,size:"large",onClick:r6,gapBefore:aE,text:rq||"OTPFlow"===tk||tF?(0,i.jsx)(L.J,{label:"label_CreateAccount_page_SignIn"}):(0,i.jsx)(L.J,{label:"lable_continue_capitalized"}),id:rq||tF?"signInButtonID":"continueButtonID"})})),"chooseSignInMethod"===tk&&(0,i.jsxs)(C.S,{direction:"column",justify:"center",children:[(0,i.jsxs)(C.S,{direction:"column",children:[(0,i.jsx)(Q.s,{"aria-roledescription":"selected radio button",label:T.label_email_me_a_code,name:"email_code",value:"email_code",checked:!0,onChange:()=>tP("chooseSignInMethod")},"sign-in-with-otp-btn"),(0,i.jsx)(C.S,{attributes:{style:{marginTop:tt?"12px":"8px"}},children:(0,i.jsx)(Q.s,{"aria-roledescription":"selected radio button",label:T.label_enter_my_password,name:"email_code",value:"email_code",checked:!1,onChange:ax},"sign-in-with-otp-btn")})]}),(0,i.jsx)(ej,{ref:e7,disabled:!1,loading:tK,size:"large",onClick:aS,text:T.label_send_code,gapBefore:e8?2:5,id:"chooseSignInMethod"===tk?"SendCodeButtonId":"LoginWithPasswordButtonId"})]}),"signInOrCreateNewPW"===tk&&(0,i.jsxs)(C.S,{direction:"column",justify:"center",children:[(0,i.jsx)(Q.s.Group,{name:"reset_pw_options",onValueChange:e=>tE(e),defaultValue:"sign_in",children:(0,i.jsxs)(C.S,{gap:e8?5:6,children:[(0,i.jsx)(Q.s,{defaultChecked:!0,"aria-roledescription":"selected radio button",value:"sign_in",label:T.label_sign_in_and_keep_password},"sign-in-and-keep-pw"),(0,i.jsx)(Q.s,{defaultChecked:!1,"aria-roledescription":"selected radio button",value:"create_pw",label:T.label_create_a_new_password,onChange:()=>{I((0,o._)((0,s._)({},rH),{eventType:"resetPassword"}),W.x)}},"create-new-pw")]})}),"create_pw"===tj&&(0,i.jsx)(C.S,{padding:[5,0,0,0],children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eX.x,{container:!0,children:(0,i.jsx)(eX.x,{item:!0,xs:12,children:(0,i.jsx)(O,{resetPasswordMutation:rx})})})})}),"sign_in"===tj&&(0,i.jsx)(ej,{ref:e7,disabled:!1,loading:tK,size:"large",onClick:()=>{"sign_in"===tj&&(tZ(!0),x||ty(!0),E&&E())},text:(0,i.jsx)(L.J,{label:"label_CreateAccount_page_SignIn"}),gapBefore:e8?5:8,id:"LoginWithOTPButtonId"})]}),tV&&("login"===tk||"autoCreatedOnlineAccount"===tk)&&(0,i.jsx)(C.S.Item,{gapBefore:4,children:(0,i.jsx)(eb.n,{id:"acctExistForm",ref:eN,captchaVerifyCallback:e=>{let{login:t}=rO();return rw(r8({login:t,googleRecaptchaToken:e},e))},className:eg().captchaClass})}),tW&&"password"===tk&&(0,i.jsx)(C.S.Item,{gapBefore:4,children:(0,i.jsx)(eb.n,{id:"loginForm",ref:eB,captchaVerifyCallback:e=>(tZ(!0),rj(r7({username:rD,password:rF,googleRecaptchaToken:e},h,e))),className:eg().captchaClass})}),tJ&&("chooseSignInMethod"===tk||"forgotPassword"===tk&&tH)&&(0,i.jsx)(C.S.Item,{children:(0,i.jsxs)(C.S,{direction:"column",padding:{s:[x?5:3,0],m:[5,0],l:[4,0]},children:[(0,i.jsx)(C.S.Item,{gapBefore:tt&&!x?4:0}),(0,i.jsx)(C.S.Item,{children:(0,i.jsx)(eb.n,{id:"sendCode",ref:eD,captchaVerifyCallback:r2,className:eg().captchaClass})})]})}),"forgotPassword"===tk&&tH&&(0,i.jsxs)(C.S,{direction:"row",align:"center",padding:[5,0,0,0],children:[(0,i.jsx)(C.S.Item,{attributes:{id:"forgotPasswordUsernameID"},children:(0,i.jsx)(J.E,{variant:"main-body",attributes:{style:{fontSize:e8?"12px":"14px"}},children:(0,i.jsx)(L.J,{label:"label_remember_your_password"})})}),(0,i.jsx)(C.S.Item,{gapBefore:4,attributes:{id:"enterPassword".concat(tk,"Button"),"aria-label":"enter password ".concat(tk)},children:(0,i.jsx)(J.E,{variant:"text-link",children:(0,i.jsx)(q.t,{onClick:aj,attributes:{style:{textDecoration:"underline",fontWeight:"500"}},children:T.mf_homepage_header_signin})})})]}),tW&&"OTPFlow"===tk&&(0,i.jsxs)(C.S.Item,{gapBefore:{s:3,m:5,l:4},children:[(0,i.jsx)(eb.n,{id:"otpForm",ref:eU,captchaVerifyCallback:e=>(tZ(!0),rj(r7({username:rD,otpCode:rz,googleRecaptchaToken:e},h,e))),className:eg().captchaClass}),(0,i.jsx)("div",{style:{display:"none"},children:(0,i.jsx)(eb.n,{id:"resend",ref:eF,captchaVerifyCallback:r2,className:eg().captchaClass})})]}),"OTPFlow"===tk&&"forgotPassword"!==tB&&(0,i.jsx)(C.S.Item,{gapBefore:{s:3,m:5,l:4},children:(0,i.jsx)(q.t,{onClick:aj,children:(0,i.jsx)(J.E,{color:"primary",variant:"text-link",attributes:{style:{textDecoration:"underline"}},className:eg().adjustForgotPasswordFontSize,"data-testid":"forgot-pwd-button",children:T.label_enter_password_instead})})}),(0,i.jsx)(ex.A,{isModal:x||!1})]}),"autoCreatedOnlineAccount"===tk?(0,i.jsx)(ek,{email:rD,setIsOpen:t8}):(0,i.jsx)(et.a,{attributes:{style:{maxWidth:e8?"100%":"540px",maxHeight:e8?"100%":"284px",padding:"0px",margin:"auto"}},headerColor:rY,id:"resetPasswordEmailSentModalID",open:t$,closeButtonTitle:"close Forgot Password Modal Button",onClose:()=>{tZ(!1),tQ(!1)},hasCloseButton:!0,size:{s:"full",m:"auto",l:"auto"},className:eg().modalContent,children:(0,i.jsxs)(C.S,{padding:{s:5,m:[3.5,25.75,15,25.75],l:[1.5,45/4,45/4,45/4]},direction:"column",justify:"start",children:[e8&&(0,i.jsx)(C.S,{align:"start",attributes:{style:{paddingBottom:"20px"}},children:(0,i.jsx)(e4.Ay,{src:"/images/primary.svg",alt:"Autozone",width:205,height:24})}),(0,i.jsx)(C.S,{attributes:{style:{paddingBottom:"12px"},id:"checkYourEmailMsgForResetPWID"},children:(0,i.jsx)(J.E,{variant:"large-body",weight:"bold",attributes:{style:{fontSize:e9?"16px":"18px",lineHeight:e9?"24px":"26px"}},children:T.label_forgot_password_check_email})}),(0,i.jsx)(C.S,{attributes:{style:{paddingBottom:"16px"},id:"emailOrLoginValueForResetPWID"},children:(0,i.jsxs)(J.E,{variant:"main-body",weight:"bold",attributes:{style:{fontSize:e9?"14px":"16px",lineHeight:e9?"20px":"24px"}},children:[null!=rC?rC:rD," "]})}),(0,i.jsx)(C.S,{attributes:{id:"emailWillBeSentMsgForResetPWID"},children:(0,i.jsx)(J.E,{variant:"main-body",attributes:{style:{fontSize:e9?"14px":"16px",lineHeight:e9?"20px":"24px"}},children:(0,i.jsx)(L.J,{label:"label_an_email_will_be_sent"})})})]})}),tx&&(0,i.jsx)(e5,{onCloseModal:()=>tw(!1),email:rD}),(0,i.jsx)(eM.K,{requiredSearchFields:tn,maxResultsPerPage:10,rewardsFindIdModalOpen:t_,setRewardsFindIdModalOpen:tp,isPhone:e8,usedSearchFields:tc,setUsedSearchFields:tu,setMaskedRewardsId:to,setLinkedRewardsId:tl,setLinkedEmail:td,setCustLookupRewardsInfo:rb,setRewardsIdHasBeenEntered:rm,labels:ep,loginFlow:rt},t_?"rewardsFindIdModalOpen":"rewardsFindIdModalClosed"),(0,i.jsx)(eH,{rewardsEnterIdModalOpen:tg,setRewardsEnterIdModalOpen:th,setLinkedRewardsId:tl,setCustLookupRewardsInfo:rb,setRewardsIdHasBeenEntered:rm,labels:ep,login:rD},tg?"rewardsEnterIdModalOpen":"rewardsEnterIdModalClosed")]})})}},40823:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});let a=["prodView","productBrandList","productCorePriceList","productDealMessage","productFilterSelection","productFindingMethod","productFitmentBanner","productFitmentCheckMessage","productGuide","productIdList","productNotAvailableList","productPart","productPartList","productPartNumberList","productPrice","productRecommendationTypeList","productRepositoryIdList","productStrikeThroughPricing","productToastNotification"]},58266:e=>{e.exports={root:"az_LU",input:"az_MU",checkmark:"az_NU","checkmark-container":"az_OU",checked:"az_PU","checkmark-indicator":"az_QU","checkmark-hover":"az_RU","label-text":"az_SU"}},61752:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var a=r(37876),n=r(69061),s=r(36183),o=r(78795),i=r(14232),l=r(54594),d=r(14073),c=r.n(d),u=r(15227),_=r(68983),p=r(30093);let g=function(e){let{passwordSection:t=!1,resetEmailSent:r=!1,userNameSectionText:d,passWordSectionText:g,subHeaderText:h,forgotPasswordText:m,forgotPasswordV2Text:b,oneTimePasswordText:x,oneTimePasswordEntryText:w,showForgotPwdUI:f,showForgotPwdV2UI:S,resetPasswordFlow:j,resetPasswordText:E,showLogo:I=!0,showSubHeader:y=!0,isMobileApp:v,isModal:C,globalNotification:R,resetPWOption:P}=e,{flowType:k,setFlowTypeFn:A}=(0,i.useContext)(u.G),O=(0,_.Y)();return(0,a.jsxs)(a.Fragment,{children:[I&&(0,a.jsx)(n.N,{attributes:{id:"signInHeaderLogoID"},onClick:()=>A("login"),href:"/",children:(0,a.jsx)(s.S,{height:"24px",attributes:{style:{marginTop:v&&"login"===k?"27px":""}},children:(0,a.jsx)(l.Ay,{src:"/images/az-logo-full.svg",alt:"",width:205,height:24,className:c().azLogo})})}),R,(0,a.jsxs)(s.S,{direction:"column",attributes:{style:{marginTop:C&&!I?"0px":"20px"}},children:[(0,a.jsx)(s.S.Item,{children:(0,a.jsx)(o.E,{as:"h1",variant:"large-body",weight:"bold",className:O?"":c().adjustStarcLargeBody,attributes:{id:(()=>{switch(k){case"login":return"signInOrCreateID";case"password":return"signInHeaderWelcomeBackID";case"forgotPassword":return"signInHeaderForgotPasswordID";case"OTPFlow":return"oneTimePasswordTextID";default:return""}})()},children:h})}),y&&(0,a.jsx)(s.S.Item,{gapBefore:(()=>{switch(k){case"manualCreateAccount":return 4;case"OTPFlow":case"chooseSignInMethod":return 0;case"signInOrCreateNewPW":return 1;case"forgotPassword":if(O)return 1;return 0;case"password":if(O)return 0;default:return 3}})(),attributes:{id:"signInHeaderSubHeaderMsgID"},children:(0,a.jsx)(s.S,{padding:"manualCreateAccount"===k?[0,0,4,0]:0,children:(0,a.jsxs)(o.E,{className:c().adjustStarcMainBody,variant:"main-body",children:["chooseSignInMethod"===k?x:S&&"forgotPassword"===k?b:f?m:t||r?g:"OTPFlow"===k?w:d,"signInOrCreateNewPW"===k&&(0,a.jsx)(s.S,{padding:[4,0,0,0],children:"sign_in"===P?(0,a.jsx)(p.J,{label:"label_signin_with_code_or_create_password"}):(0,a.jsx)(p.J,{label:"label_create_a_new_password_for_your_account"})}),j&&E]})})})]})]})}},65993:e=>{e.exports={azwhite:"#fff",azgrey1:"#f2f2f2",azgrey2:"#e6e6e6",azgrey3:"#a9aaa8",azgrey4:"#787878",azgrey5:"#5b5d5b",azgrey6:"#484848",azgrey7:"#5b5c5d",azgrey8:"#7c7c7c",azblack:"#202124",azlightorange:"#f37f00",azmediumorange:"#f26100",azmediumgrey:"#949494",azdarkorange:"#f23f00",azlightred:"#f52c1c",azmediumred:"#d52b1e",azdarkred:"#971e15",azcolorsuccess:"#1f7400",azcolorinfo:"#0050b3",azcolorinfoalt:"#0081b2",azcolorerror:"#b30000",azcolorcaution:"#ffc600",modalContent:"az__ub",starcTextLargeBodyLineHeight:"az_avb",starcTextMainBodyLineHeight:"az_bvb"}},67011:(e,t,r)=>{"use strict";r.d(t,{s:()=>m});var a=r(37876),n=r(84046),s=r(78795),o=r(36183),i=r(14232);let l=i.createContext(null),d=()=>i.useContext(l),c=e=>{let{onChange:t,onValueChange:r,name:n,disabled:s,value:o,children:d}=e,c=i.useMemo(()=>({onChange:t,onValueChange:r,disabled:s,value:o,name:n}),[t,r,s,o,n]);return(0,a.jsx)(l.Provider,{value:c,children:d})};var u=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};let _=e=>{var{defaultValue:t,onChange:r}=e,n=u(e,["defaultValue","onChange"]);let[s,o]=i.useState(t||"");return(0,a.jsx)(c,Object.assign({},n,{value:s,defaultValue:void 0,onChange:e=>{let{target:t}=e;o(t.value),r&&r(e)}}))};var p=r(6806),g=r(58266),h=r.n(g);let m=e=>{let{label:t,value:r,onChange:i,className:l,attributes:c,inputAttributes:u,defaultChecked:_,checked:g,disabled:m,name:b,id:x}=e,w=d(),f=m||(null==w?void 0:w.disabled),S=w?w.value===r:g,j=w?void 0:_,E=w?w.name:b||(null==u?void 0:u.name),I=(0,n.xW)(h().root,l),y=(0,n.xW)(h().input),v=(0,p.$)(x),C="string"==typeof t?s.E:o.S,R=(0,n.xW)(S&&h().checked,h()["checkmark-indicator"]);return(0,a.jsxs)(C,Object.assign({as:"label",className:I,"data-testid":"st-radio"},c,{children:[(0,a.jsxs)("div",{className:h()["checkmark-container"],children:[(0,a.jsx)("input",Object.assign({className:y,type:"radio",name:E,onChange:e=>{i&&i(e),(null==u?void 0:u.onChange)&&u.onChange(e),(null==w?void 0:w.onChange)&&w.onChange(e),(null==w?void 0:w.onValueChange)&&w.onValueChange(e.target.value)},checked:S,disabled:f,value:r,defaultChecked:j,id:v,ref:null==u?void 0:u.ref},u)),(0,a.jsx)("div",{className:h()["checkmark-hover"]}),(0,a.jsx)("div",{className:R}),(0,a.jsx)("span",{className:h().checkmark})]}),(0,a.jsx)("span",{className:h()["label-text"],children:t})]}))};m.Group=e=>void 0!==e.value?(0,a.jsx)(c,Object.assign({},e)):(0,a.jsx)(_,Object.assign({},e))},76725:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(14232);function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){var t=document.createElement("script");t.async=!0,t.defer=!0,t.src=e,document.head&&document.head.appendChild(t)},o=/(http|https):\/\/(www)?.+\/recaptcha/,i=["sitekey","theme","size","badge","tabindex","hl","isolated"],l=function(e){function t(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).container=void 0,t.timer=void 0,t.state={instanceKey:Date.now(),ready:!1,rendered:!1,invisible:"invisible"===t.props.size},t._isAvailable=function(){var e;return!!(null==(e=window.grecaptcha)?void 0:e.ready)},t._inject=function(){t.props.inject&&!Array.from(document.scripts).reduce(function(e,t){return e||o.test(t.src)},!1)&&s("https://recaptcha.net/recaptcha/api.js?render=explicit"+(t.props.hl?"&hl="+t.props.hl:""))},t._prepare=function(){var e=t.props,r=e.explicit,a=e.onLoad;window.grecaptcha.ready(function(){t.setState({ready:!0},function(){r||t.renderExplicitly(),a&&a()})})},t._renderRecaptcha=function(e,t){return window.grecaptcha.render(e,t)},t._resetRecaptcha=function(){return window.grecaptcha.reset(t.state.instanceId)},t._executeRecaptcha=function(){return window.grecaptcha.execute(t.state.instanceId)},t._getResponseRecaptcha=function(){return window.grecaptcha.getResponse(t.state.instanceId)},t._onVerify=function(e){return t.props.onVerify(e)},t._onExpire=function(){return t.props.onExpire&&t.props.onExpire()},t._onError=function(){return t.props.onError&&t.props.onError()},t._stopTimer=function(){t.timer&&clearInterval(t.timer)},t.componentDidMount=function(){t._inject(),t._isAvailable()?t._prepare():t.timer=window.setInterval(function(){t._isAvailable()&&(t._prepare(),t._stopTimer())},500)},t.componentWillUnmount=function(){t._stopTimer()},t.renderExplicitly=function(){return new Promise(function(e,r){if(t.state.rendered)return r(Error("This recaptcha instance has been already rendered."));if(!t.state.ready||!t.container)return r(Error("Recaptcha is not ready for rendering yet."));var a=t._renderRecaptcha(t.container,{sitekey:t.props.sitekey,theme:t.props.theme,size:t.props.size,badge:t.state.invisible?t.props.badge:void 0,tabindex:t.props.tabindex,callback:t._onVerify,"expired-callback":t._onExpire,"error-callback":t._onError,isolated:t.state.invisible?t.props.isolated:void 0,hl:t.state.invisible?void 0:t.props.hl});t.setState({instanceId:a,rendered:!0},function(){t.props.onRender&&t.props.onRender(),e()})})},t.reset=function(){return new Promise(function(e,r){if(t.state.rendered)return t._resetRecaptcha(),e();r(Error("This recaptcha instance did not render yet."))})},t.execute=function(){return new Promise(function(e,r){return t.state.invisible?(t.state.rendered&&(t._executeRecaptcha(),e()),r(Error("This recaptcha instance did not render yet."))):r(Error("Manual execution is only available for invisible size."))})},t.getResponse=function(){return new Promise(function(e,r){if(t.state.rendered)return e(t._getResponseRecaptcha());r(Error("This recaptcha instance did not render yet."))})},t.render=function(){var e=a.createElement("div",{key:t.state.instanceKey,id:t.props.id,className:t.props.className,ref:function(e){return t.container=e}});return t.props.children?t.props.children({renderExplicitly:t.renderExplicitly,reset:t.reset,execute:t.execute,getResponse:t.getResponse,recaptchaComponent:e}):e},t}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e),t.getDerivedStateFromProps=function(e,t){var r="invisible"===e.size;return r!==t.invisible?{invisible:r}:null},t.prototype.componentDidUpdate=function(e){var t=this;i.reduce(function(r,a){return t.props[a]!==e[a]?[].concat(r,[a]):r},[]).length>0&&this.setState({instanceKey:Date.now(),rendered:!1},function(){t.props.explicit||t.renderExplicitly()})},t}(a.Component);l.defaultProps={id:"",className:"g-recaptcha",theme:"light",size:"normal",badge:"bottomright",tabindex:0,explicit:!1,inject:!0,isolated:!1,hl:""}},85274:e=>{e.exports={modalContent:"az_epb"}},90073:(e,t,r)=>{"use strict";function a(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}r.d(t,{_:()=>a})},91761:(e,t,r)=>{"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}r.d(t,{_:()=>a})}}]);
//# sourceMappingURL=4877-2e05212f141eb3a3.js.map